(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{303:function(t,e,r){"use strict";r.d(e,{Y:function(){return a}});var n=r(9655);function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[e,r]=(0,n.lr)();if(void 0===t)return;let a=!1;e.forEach((r,n)=>{"function"==typeof t[n]&&(t[n](r),e.delete(n),a=!0)}),a&&r(e)}},1215:function(t,e,r){"use strict";r.r(e),r.d(e,{Chat:function(){return tK},ChatActions:function(){return tH},PromptHints:function(){return tW},SessionConfigModel:function(){return tN}});var n,a,s,l,o,i,c,m,h,u,d,p,f,k,g,v,y,w,E,x,_,b,j,O,M,C,P=r(5893),D=r(7294);function S(t,e,r){var n=this,a=(0,D.useRef)(null),s=(0,D.useRef)(0),l=(0,D.useRef)(null),o=(0,D.useRef)([]),i=(0,D.useRef)(),c=(0,D.useRef)(),m=(0,D.useRef)(t),h=(0,D.useRef)(!0);(0,D.useEffect)(function(){m.current=t},[t]);var u=!e&&0!==e&&"undefined"!=typeof window;if("function"!=typeof t)throw TypeError("Expected a function");e=+e||0;var d=!!(r=r||{}).leading,p=!("trailing"in r)||!!r.trailing,f="maxWait"in r,k=f?Math.max(+r.maxWait||0,e):null;return(0,D.useEffect)(function(){return h.current=!0,function(){h.current=!1}},[]),(0,D.useMemo)(function(){var t=function(t){var e=o.current,r=i.current;return o.current=i.current=null,s.current=t,c.current=m.current.apply(r,e)},r=function(t,e){u&&cancelAnimationFrame(l.current),l.current=u?requestAnimationFrame(t):setTimeout(t,e)},g=function(t){if(!h.current)return!1;var r=t-a.current;return!a.current||r>=e||r<0||f&&t-s.current>=k},v=function(e){return l.current=null,p&&o.current?t(e):(o.current=i.current=null,c.current)},y=function t(){var n=Date.now();if(g(n))return v(n);if(h.current){var l=e-(n-a.current);r(t,f?Math.min(l,k-(n-s.current)):l)}},w=function(){var m=Date.now(),u=g(m);if(o.current=[].slice.call(arguments),i.current=n,a.current=m,u){if(!l.current&&h.current)return s.current=a.current,r(y,e),d?t(a.current):c.current;if(f)return r(y,e),t(a.current)}return l.current||r(y,e),c.current};return w.cancel=function(){l.current&&(u?cancelAnimationFrame(l.current):clearTimeout(l.current)),s.current=0,o.current=a.current=i.current=l.current=null},w.isPending=function(){return!!l.current},w.flush=function(){return l.current?v(Date.now()):c.current},w},[d,f,e,k,p,u])}var N=r(1163);function Z(){return(Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var W=function(t){return D.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),n||(n=D.createElement("defs",null,D.createElement("path",{id:"send-white_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,a||(a=D.createElement("mask",{id:"send-white_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#send-white_svg__a"}))),D.createElement("g",{mask:"url(#send-white_svg__b)"},D.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 2)",d:"M0 4.71 6.67 6l1.67 6.67L12.67 0 0 4.71Z"}),D.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(8.003 6.117)",d:"M0 1.89 1.89 0"}))))};function H(){return(H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var K=function(t){return D.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),s||(s=D.createElement("defs",null,D.createElement("path",{id:"brain_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,l||(l=D.createElement("mask",{id:"brain_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#brain_svg__a"}))),D.createElement("g",{mask:"url(#brain_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 1.333)",d:"M5.01 13.33c-.32-1.06-.82-1.86-1.48-2.38-.98-.78-2.56-.3-3.14-1.11-.58-.8.41-2.29.76-3.17.34-.88-1.33-1.19-1.13-1.44.13-.16.97-.64 2.53-1.44C3 1.26 4.63 0 7.47 0c4.24 0 5.86 3.6 5.86 5.89 0 2.29-1.96 4.76-4.75 5.29-.25.37.11 1.08 1.08 2.15"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(6.374 3.957)",d:"M2.1 3.33c-.19 1.09.04 1.6.69 1.53.65-.07 1.05-.34 1.18-.81 1.02.28 1.57.04 1.66-.72.12-1.15-.5-2.07-.75-2.07s-.91-.03-.91-.38C3.97.52 3.2.33 2.5.33c-.69 0-.27-.47-1.23-.29C.64.17.26.44.13.88c-.22.84-.16 1.43.19 1.78.35.34.94.56 1.78.67Z"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(8.193 8.5)",d:"M1.97 0c-.34.21-.8.56-1 .83-.49.69-.88 1.1-.97 1.54"}))))};function R(){return(R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var T=function(t){return D.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),o||(o=D.createElement("defs",null,D.createElement("path",{id:"rename_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,i||(i=D.createElement("mask",{id:"rename_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#rename_svg__a"}))),D.createElement("g",{mask:"url(#rename_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.775 1.3)",d:"M2.83 13.2 13.2 2.83 10.37 0 0 10.37v2.83h2.83Z"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(9.317 4.13)",d:"m0 0 2.83 2.83"}))))};function A(){return(A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var z=function(t){return D.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),c||(c=D.createElement("defs",null,D.createElement("path",{id:"share_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,m||(m=D.createElement("mask",{id:"share_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#share_svg__a"}))),D.createElement("g",{mask:"url(#share_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 1.333)",d:"M6.67 3.67C1.67 3.67 0 7.33 0 13c0 0 2-5 6.67-5v3.67l6-5.67-6-6v3.67Z"}))))};function I(){return(I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var X=function(t){return D.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),h||(h=D.createElement("defs",null,D.createElement("path",{id:"return_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,u||(u=D.createElement("mask",{id:"return_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#return_svg__a"}))),D.createElement("g",{mask:"url(#return_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 2.667)",d:"M2.33 0 0 2l2.33 2.33"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 4.667)",d:"M0 0h7.66c2.3 0 4.25 1.87 4.34 4.17.09 2.42-1.91 4.5-4.34 4.5H2"}))))},Q=r(169),L=r(6849),U=r(396);function B(){return(B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var F=function(t){return D.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),d||(d=D.createElement("defs",null,D.createElement("path",{id:"prompt_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,p||(p=D.createElement("mask",{id:"prompt_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#prompt_svg__a"}))),D.createElement("g",{mask:"url(#prompt_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.333 1.333)",d:"m1.367 1.367 1.41 1.41M4.667 0v2m0 0V0m3.295 1.367-1.41 1.41m0 0 1.41-1.41m1.371 3.3h-2m0 0h2m-1.37 3.295-1.41-1.41m0 0 1.41 1.41M4.666 9.333v-2m0 0v2m-3.3-1.37 1.41-1.41m0 0-1.41 1.41M0 4.666h2m0 0H0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.848 6.138)",d:"M8.01 0 0 8.01"}))))},V=r(3532);function G(){return(G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var Y=function(t){return D.createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),f||(f=D.createElement("defs",null,D.createElement("path",{id:"max_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,k||(k=D.createElement("mask",{id:"max_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#max_svg__a"}))),D.createElement("g",{mask:"url(#max_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 2)",d:"m0 0 3.33 3.3"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 10.667)",d:"M0 3.3 3.33 0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.7 10.667)",d:"M3.3 3.3 0 0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.667 2)",d:"M3.3 0 0 3.3"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(11 2)",d:"M0 0h3v3"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(11 11)",d:"M3 0v3H0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 11)",d:"M3 3H0V0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 2)",d:"M0 3V0h3"}))))};function $(){return($=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var q=function(t){return D.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),g||(g=D.createElement("defs",null,D.createElement("path",{id:"min_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,v||(v=D.createElement("mask",{id:"min_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#min_svg__a"}))),D.createElement("g",{mask:"url(#min_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 2)",d:"m0 0 3.33 3.3"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2 10.667)",d:"M0 3.3 3.33 0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.7 10.667)",d:"M3.3 3.3 0 0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.667 2)",d:"M3.3 0 0 3.3"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.667 2.333)",d:"M0 0v3h3"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.333 2.333)",d:"M3 0v3H0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.333 10.667)",d:"M3 3V0H0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(10.667 10.667)",d:"M0 3V0h2.97"}))))},J=r(5755);function tt(){return(tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var te=function(t){return D.createElement("svg",tt({xmlns:"http://www.w3.org/2000/svg",width:16,height:16},t),D.createElement("g",{fill:"#1D93AB"},D.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 5)",d:"M1 9.67h8.67l1-9.67H0l1 9.67Z"}),D.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(6.667 8.334)",d:"M0 0v3.33"}),D.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(9.334 8.333)",d:"M0 0v3.33"}),D.createElement("path",{style:{stroke:"#fff",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(4 1)",d:"m0 4 5.44-4L8 4"})))};function tr(){return(tr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var tn=function(t){return D.createElement("svg",tr({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),y||(y=D.createElement("defs",null,D.createElement("path",{id:"light_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,w||(w=D.createElement("mask",{id:"light_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#light_svg__a"}))),D.createElement("g",{mask:"url(#light_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(3.667 3.667)",d:"M8.67 4.33C8.67 1.94 6.73 0 4.33 0 1.94 0 0 1.94 0 4.33a4.334 4.334 0 1 0 8.67 0Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(7.167 .333)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(12 2.333)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(14 7.167)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(12 12)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(7.167 14)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(2.333 12)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(.333 7.167)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}),D.createElement("path",{fillRule:"evenodd",style:{fill:"#333"},transform:"translate(2.333 2.333)",d:"M1.67.83C1.67.37 1.29 0 .83 0 .37 0 0 .37 0 .83c0 .46.37.84.83.84.46 0 .84-.38.84-.84Z"}))))};function ta(){return(ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var ts=function(t){return D.createElement("svg",ta({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),E||(E=D.createElement("defs",null,D.createElement("path",{id:"dark_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,x||(x=D.createElement("mask",{id:"dark_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#dark_svg__a"}))),D.createElement("g",{mask:"url(#dark_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 1.333)",d:"M6.67 0C2.98 0 0 2.98 0 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66 0-.47-.04-.92-.13-1.35a4.251 4.251 0 0 1-4.11 3.16c-2.34 0-4.24-1.89-4.24-4.24 0-1.97 1.34-3.63 3.17-4.1C7.58.05 7.13 0 6.67 0Z"}))))};function tl(){return(tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var to=function(t){return D.createElement("svg",tl({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),_||(_=D.createElement("defs",null,D.createElement("path",{id:"auto_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,b||(b=D.createElement("mask",{id:"auto_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#auto_svg__a"}))),D.createElement("g",{mask:"url(#auto_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(5.667 5.333)",d:"m0 5.337.73-1.67m3.938 1.67-.73-1.67M.728 3.67 2.33 0l1.61 3.67M.73 3.667h3.21"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 1.333)",d:"M13.07 5.33A6.672 6.672 0 0 0 0 5.33l2-.66"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 9.333)",d:"M0 0a6.672 6.672 0 0 0 13.07 0l-1.74.67"}))))};function ti(){return(ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var tc=function(t){return D.createElement("svg",ti({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),j||(j=D.createElement("defs",null,D.createElement("path",{id:"bottom_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,O||(O=D.createElement("mask",{id:"bottom_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#bottom_svg__a"}))),D.createElement("g",{mask:"url(#bottom_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(4 4)",d:"M8 0 4 4 0 0"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(4 8)",d:"M8 0 4 4 0 0"}))))};function tm(){return(tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var th=function(t){return D.createElement("svg",tm({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},t),M||(M=D.createElement("defs",null,D.createElement("path",{id:"pause_svg__a",d:"M0 0h16v16H0z"}))),D.createElement("g",null,C||(C=D.createElement("mask",{id:"pause_svg__b",fill:"#fff"},D.createElement("use",{xlinkHref:"#pause_svg__a"}))),D.createElement("g",{mask:"url(#pause_svg__b)"},D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(1.333 1.333)",d:"M13.33 6.67A6.66 6.66 0 0 0 6.67 0C2.98 0 0 2.98 0 6.67a6.66 6.66 0 0 0 6.67 6.66c3.68 0 6.66-2.98 6.66-6.66Z"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(6.333 6)",d:"M0 0v4"}),D.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(9.667 6)",d:"M0 0v4"}))))},tu=r(4347),td=r(493),tp=r(5152),tf=r.n(tp),tk=r(2923),tg=r(6786),tv=r(7729),ty=r(7056),tw=r(4682),tE=r.n(tw),tx=r(204),t_=r.n(tx),tb=r(1420),tj=r(9250),tO=r(9136),tM=r(6889),tC=r(5176),tP=r(2835),tD=r(303);let tS=tf()(async()=>(await Promise.all([r.e(265),r.e(850),r.e(434)]).then(r.bind(r,5434))).Markdown,{loadableGenerated:{webpack:()=>[5434]},loading:()=>(0,P.jsx)(U.Z,{})});function tN(t){let e=(0,tu.aK)(),r=e.currentSession(),n=(0,tP.Zy)(),a=(0,tj.s0)();return(0,P.jsx)("div",{className:"modal-mask",children:(0,P.jsx)(tb.u_,{title:tv.ZP.Context.Edit,onClose:()=>t.onClose(),actions:[(0,P.jsx)(ty.h,{icon:(0,P.jsx)(J.Z,{}),bordered:!0,text:tv.ZP.Chat.Config.Reset,onClick:()=>confirm(tv.ZP.Memory.ResetConfirm)&&e.resetSession()},"reset"),(0,P.jsx)(ty.h,{icon:(0,P.jsx)(Q.Z,{}),bordered:!0,text:tv.ZP.Chat.Config.SaveAs,onClick:()=>{a(tO.y$.Masks),setTimeout(()=>{n.create(r.mask)},500)}},"copy")],children:(0,P.jsx)(tC.MaskConfig,{mask:r.mask,updateMask:t=>{let n={...r.mask};t(n),e.updateCurrentSession(t=>t.mask=n)},extraListItems:r.mask.modelConfig.sendMemory?(0,P.jsx)(tb.HC,{title:"".concat(tv.ZP.Memory.Title," (").concat(r.lastSummarizeIndex," of ").concat(r.messages.length,")"),subTitle:r.memoryPrompt||tv.ZP.Memory.EmptyContent}):(0,P.jsx)(P.Fragment,{})})})})}function tZ(t){let e=(0,tu.aK)(),r=e.currentSession(),n=r.mask.context;return(0,P.jsxs)("div",{className:t_()["prompt-toast"],children:[t.showToast&&(0,P.jsxs)("div",{className:t_()["prompt-toast-inner"]+" clickable",role:"button",onClick:()=>t.setShowModal(!0),children:[(0,P.jsx)(K,{}),(0,P.jsx)("span",{className:t_()["prompt-toast-content"],children:tv.ZP.Context.Toast(n.length)})]}),t.showModal&&(0,P.jsx)(tN,{onClose:()=>t.setShowModal(!1)})]},"prompt-toast")}function tW(t){let e=0===t.prompts.length,[r,n]=(0,D.useState)(0),a=(0,D.useRef)(null);return((0,D.useEffect)(()=>{n(0)},[t.prompts.length]),(0,D.useEffect)(()=>{let s=s=>{if(e||s.metaKey||s.altKey||s.ctrlKey)return;let l=e=>{var l;s.stopPropagation(),s.preventDefault();let o=Math.max(0,Math.min(t.prompts.length-1,r+e));n(o),null===(l=a.current)||void 0===l||l.scrollIntoView({block:"center"})};if("ArrowUp"===s.key)l(1);else if("ArrowDown"===s.key)l(-1);else if("Enter"===s.key){let e=t.prompts.at(r);e&&t.onPromptSelect(e)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,r]),e)?null:(0,P.jsx)("div",{className:tE()["prompt-hints"],children:t.prompts.map((e,s)=>(0,P.jsxs)("div",{ref:s===r?a:null,className:tE()["prompt-hint"]+" ".concat(s===r?tE()["prompt-hint-selected"]:""),onClick:()=>t.onPromptSelect(e),onMouseEnter:()=>n(s),children:[(0,P.jsx)("div",{className:tE()["hint-title"],children:e.title}),(0,P.jsx)("div",{className:tE()["hint-content"],children:e.content})]},e.title+s.toString()))})}function tH(t){let e=(0,tu.MG)(),r=(0,tj.s0)(),n={...tu.MN.getState()},a=e.theme,s=tk.L.hasPending(),l=()=>tk.L.stopAll();return(0,P.jsxs)("div",{className:t_()["chat-input-actions"],style:{display:n.customSet?"none":""},children:[s&&(0,P.jsx)("div",{className:"".concat(t_()["chat-input-action"]," clickable"),onClick:l,children:(0,P.jsx)(th,{})}),!t.hitBottom&&(0,P.jsx)("div",{className:"".concat(t_()["chat-input-action"]," clickable"),onClick:t.scrollToBottom,children:(0,P.jsx)(tc,{})}),t.hitBottom&&(0,P.jsx)("div",{className:"".concat(t_()["chat-input-action"]," clickable"),onClick:t.showPromptModal,children:(0,P.jsx)(K,{})}),(0,P.jsx)("div",{className:"".concat(t_()["chat-input-action"]," clickable"),onClick:function(){let t=[tu.Q2.Auto,tu.Q2.Light,tu.Q2.Dark],r=t.indexOf(a),n=(r+1)%t.length,s=t[n];e.update(t=>t.theme=s)},children:a===tu.Q2.Auto?(0,P.jsx)(to,{}):a===tu.Q2.Light?(0,P.jsx)(tn,{}):a===tu.Q2.Dark?(0,P.jsx)(ts,{}):null}),(0,P.jsx)("div",{className:"".concat(t_()["chat-input-action"]," clickable"),onClick:t.showPromptHints,children:(0,P.jsx)(F,{})}),(0,P.jsx)("div",{className:"".concat(t_()["chat-input-action"]," clickable"),onClick:()=>{r(tO.y$.Masks)},children:(0,P.jsx)(V.Z,{})})]})}function tK(){var t;let e=(0,tu.aK)(),[r,n,a]=(0,tu.aK)(t=>[t.currentSession(),t.currentSessionIndex,t.deleteSession]),s=(0,tu.MG)(),l=s.fontSize,o=(0,N.useRouter)(),{search_id:i,customUrl:c,stremConfig:m}=o.query,h=(0,tu.MN)(),u={...tu.MN.getState()};(0,D.useEffect)(()=>{let t="boolean"==typeof m?m:e.streamConfig;e.setStreamConfig(t),u.customSet&&e.deleteSession(e.currentSessionIndex),h.update(t=>{t.searchId="string"==typeof i?i:t.searchId,t.customUrl="string"==typeof c?"".concat(c,"/wp-json/aigc/v1/aigc/context"):t.customUrl})},[i,c,m]);let d=(0,D.useRef)(null),[p,f]=(0,D.useState)(""),[k,g]=(0,D.useState)(!1),{submitKey:v,shouldSubmit:y}=function(){let t=(0,tu.MG)(),e=t.submitKey;return{submitKey:e,shouldSubmit:e=>"Enter"===e.key&&("Enter"!==e.key||!e.nativeEvent.isComposing)&&(t.submitKey===tu.mQ.AltEnter&&e.altKey||t.submitKey===tu.mQ.CtrlEnter&&e.ctrlKey||t.submitKey===tu.mQ.ShiftEnter&&e.shiftKey||t.submitKey===tu.mQ.MetaEnter&&e.metaKey||t.submitKey===tu.mQ.Enter&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey)}}(),{scrollRef:w,setAutoScroll:E,scrollToBottom:x}=function(){let t=(0,D.useRef)(null),[e,r]=(0,D.useState)(!0),n=()=>{let e=t.current;e&&setTimeout(()=>e.scrollTop=e.scrollHeight,1)};return(0,D.useLayoutEffect)(()=>{e&&n()}),{scrollRef:t,autoScroll:e,setAutoScroll:r,scrollToBottom:n}}(),[_,b]=(0,D.useState)(!0),j=(0,td.S0)(),[O,M]=(0,D.useState)(!1),C=(0,tj.s0)(),Z=t=>{let e=t.scrollTop+t.clientHeight>=t.scrollHeight-100;b(e)},H=(0,tg.f)(),[K,R]=(0,D.useState)([]),A=S(t=>{R(H.search(t))},100,{leading:!0,trailing:!0}),I=t=>{var e;R([]),null===(e=d.current)||void 0===e||e.focus(),setTimeout(()=>f(t.content),60)},[U,B]=(0,D.useState)(2),F=S(()=>{let t=d.current?(0,td.lx)(d.current):1,e=Math.min(20,Math.max(2+Number(!j),t));B(e)},100,{leading:!0,trailing:!0});(0,D.useEffect)(F,[p]);let V=t=>{f(t),M(!0);let e=t.trim().length;0===e?R([]):!s.disablePromptHint&&e<30&&t.startsWith("/")&&A(t.slice(1))},G=t=>{var r;if(""===t.trim())return a(n);g(!0),e.onUserInput(t).then(()=>g(!1)),localStorage.setItem(tO.Sb,t),f(""),R([]),j||null===(r=d.current)||void 0===r||r.focus(),E(!0),M(!1)},$=t=>{tk.L.stop(n,t)},J=t=>{if("ArrowUp"===t.key&&p.length<=0&&!(t.metaKey||t.altKey||t.ctrlKey)){var e;M(!0),f(null!==(e=localStorage.getItem(tO.Sb))&&void 0!==e?e:""),t.preventDefault();return}y(t)&&(G(p),t.preventDefault())},tt=(t,e)=>{(0,td.Ri)(t.currentTarget,e.content)&&t.preventDefault()},tr=t=>{let e=null;for(let n=0;n<r.messages.length;n+=1){let a=r.messages[n];if(a.id===t)break;"user"===a.role&&(e=n)}return e},tn=t=>{e.updateCurrentSession(e=>e.messages.splice(t,2))},ta=t=>{let e=tr(t);null!==e&&tn(e)},ts=t=>{var n;let a=tr(t);if(null===a)return;g(!0);let s=r.messages[a].content;tn(a),e.onUserInput(s).then(()=>g(!1)),null===(n=d.current)||void 0===n||n.focus()},tl=r.mask.context.slice(),to=(0,tu._X)();if(0===tl.length&&(null===(t=r.messages.at(0))||void 0===t?void 0:t.content)!==tu.ux.content){let t=Object.assign({},tu.ux);to.isAuthorized()||u.customSet||(t.content=tv.ZP.Error.Unauthorized),tl.push(t)}let ti=tl.concat(r.messages).concat(k?[{...(0,tu.tn)({role:"assistant",content:"……"}),preview:!0}]:[]).concat(p.length>0&&s.sendPreviewBubble?[{...(0,tu.tn)({role:"user",content:p}),preview:!0}]:[]),[tc,tm]=(0,D.useState)(!1),th=()=>{let t=prompt(tv.ZP.Chat.Rename,r.topic);t&&t!==r.topic&&e.updateCurrentSession(e=>e.topic=t)},tp=(0,tj.TH)(),tf=tp.pathname===tO.y$.Chat;return(0,tD.Y)({fill:f,submit:t=>{G(t)}}),(0,P.jsxs)("div",{className:tE().chat,children:[(0,P.jsxs)("div",{className:"window-header",style:{display:u.customSet?"none":""},children:[(0,P.jsxs)("div",{className:"window-header-title",children:[(0,P.jsx)("div",{className:'window-header-main-title " '.concat(tE()["chat-body-title"]),onClickCapture:th,children:r.topic?r.topic:tu.HX}),(0,P.jsx)("div",{className:"window-header-sub-title",children:tv.ZP.Chat.SubTitle(r.messages.length)})]}),(0,P.jsxs)("div",{className:"window-actions",children:[(0,P.jsx)("div",{className:"window-action-button "+tE().mobile,children:(0,P.jsx)(ty.h,{icon:(0,P.jsx)(X,{}),bordered:!0,title:tv.ZP.Chat.Actions.ChatList,onClick:()=>C(tO.y$.Home)})}),(0,P.jsx)("div",{className:"window-action-button",children:(0,P.jsx)(ty.h,{icon:(0,P.jsx)(T,{}),bordered:!0,onClick:th})}),(0,P.jsx)("div",{className:"window-action-button",children:(0,P.jsx)(ty.h,{icon:(0,P.jsx)(z,{}),bordered:!0,title:tv.ZP.Chat.Actions.Export,onClick:()=>{!function(t,e){let r="# ".concat(e,"\n\n")+t.map(t=>"user"===t.role?"## ".concat(tv.ZP.Export.MessageFromYou,":\n").concat(t.content):"## ".concat(tv.ZP.Export.MessageFromChatGPT,":\n").concat(t.content.trim())).join("\n\n"),n="".concat(e,".md");(0,tb.K4)({title:tv.ZP.Export.Title,children:(0,P.jsx)("div",{className:"markdown-body",children:(0,P.jsx)("pre",{className:tE()["export-content"],children:r})}),actions:[(0,P.jsx)(ty.h,{icon:(0,P.jsx)(Q.Z,{}),bordered:!0,text:tv.ZP.Export.Copy,onClick:()=>(0,td.vQ)(r)},"copy"),(0,P.jsx)(ty.h,{icon:(0,P.jsx)(L.Z,{}),bordered:!0,text:tv.ZP.Export.Download,onClick:()=>(0,td.CP)(r,n)},"download")]})}(r.messages.filter(t=>!t.isError),r.topic)}})}),!j&&(0,P.jsx)("div",{className:"window-action-button",children:(0,P.jsx)(ty.h,{icon:s.tightBorder?(0,P.jsx)(q,{}):(0,P.jsx)(Y,{}),bordered:!0,onClick:()=>{s.update(t=>t.tightBorder=!t.tightBorder)}})})]}),(0,P.jsx)(tZ,{showToast:!_,showModal:tc,setShowModal:tm})]}),(0,P.jsx)("div",{className:tE()["chat-body"],ref:w,onScroll:t=>Z(t.currentTarget),onMouseDown:()=>{var t;return null===(t=d.current)||void 0===t?void 0:t.blur()},onWheel:t=>E(_&&t.deltaY>0),onTouchStart:()=>{var t;null===(t=d.current)||void 0===t||t.blur(),E(!1)},children:ti.map((t,e)=>{var n,a,o;let i="user"===t.role,c=i&&e===ti.length-1,m=!i&&e>0&&!(t.preview||0===t.content.length),h=t.preview||t.streaming;return(0,P.jsx)("div",{className:i?tE()["chat-message-user"]:tE()["chat-message"],children:(!O||!c)&&(0,P.jsxs)("div",{className:tE()["chat-message-container"],children:[(0,P.jsx)("div",{className:tE()["chat-message-avatar"],children:"user"===t.role?(0,P.jsx)(tM.qE,{avatar:s.avatar}):(0,P.jsx)(tC.MaskAvatar,{mask:r.mask})}),h&&(0,P.jsx)("div",{className:tE()["chat-message-status"],children:tv.ZP.Chat.Typing}),(0,P.jsxs)("div",{className:tE()["chat-message-item"],children:[m&&(0,P.jsxs)("div",{className:tE()["chat-message-top-actions"],children:[t.streaming?(0,P.jsx)("div",{className:tE()["chat-message-top-action"],onClick:()=>$(null!==(n=t.id)&&void 0!==n?n:e),children:tv.ZP.Chat.Actions.Stop}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:tE()["chat-message-top-action"],onClick:()=>ta(null!==(a=t.id)&&void 0!==a?a:e),children:tv.ZP.Chat.Actions.Delete}),(0,P.jsx)("div",{className:tE()["chat-message-top-action"],onClick:()=>ts(null!==(o=t.id)&&void 0!==o?o:e),children:tv.ZP.Chat.Actions.Retry})]}),(0,P.jsx)("div",{className:tE()["chat-message-top-action"],onClick:()=>(0,td.vQ)(t.content),children:tv.ZP.Chat.Actions.Copy})]}),(0,P.jsx)(tS,{content:t.content,loading:(t.preview||0===t.content.length)&&!i,onContextMenu:e=>tt(e,t),onDoubleClickCapture:()=>{j&&f(t.content)},fontSize:l,parentRef:w,defaultShow:e>=ti.length-10})]}),!i&&!t.preview&&(0,P.jsx)("div",{className:tE()["chat-message-actions"],children:(0,P.jsx)("div",{className:tE()["chat-message-action-date"],children:t.date.toLocaleString()})})]})},e)})}),(0,P.jsxs)("div",{className:tE()["chat-input-panel"],children:[(0,P.jsx)(tW,{prompts:K,onPromptSelect:I}),(0,P.jsx)(tH,{showPromptModal:()=>tm(!0),scrollToBottom:x,hitBottom:_,showPromptHints:()=>{var t;if(K.length>0){R([]);return}null===(t=d.current)||void 0===t||t.focus(),f("/"),A("")}}),(0,P.jsxs)("div",{className:tE()["chat-input-panel-inner"],children:[(0,P.jsx)("textarea",{ref:d,className:tE()["chat-input"],placeholder:tv.ZP.Chat.Input(v),onInput:t=>V(t.currentTarget.value),value:p,onKeyDown:J,onFocus:()=>E(!0),onBlur:()=>E(!1),rows:U,autoFocus:!j||tf}),(0,P.jsx)(ty.h,{icon:p.length?(0,P.jsx)(W,{}):(0,P.jsx)(te,{className:tE()["chat-clear-button"]}),text:p.length?tv.ZP.Chat.Send:tv.ZP.Chat.Clear,className:tE()["chat-input-send"],type:"primary",onClick:()=>G(p)})]})]})]},r.id)}},6786:function(t,e,r){"use strict";r.d(e,{f:function(){return c},o:function(){return i}});var n=r(4529),a=r(782),s=r(9632),l=r(7729),o=r(9136);let i={ready:!1,builtinEngine:new s.Z([],{keys:["title"]}),userEngine:new s.Z([],{keys:["title"]}),count:{builtin:0},allPrompts:[],builtinPrompts:[],init(t,e){this.ready||(this.allPrompts=e.concat(t),this.builtinPrompts=t.slice(),this.builtinEngine.setCollection(t),this.userEngine.setCollection(e),this.ready=!0)},remove(t){this.userEngine.remove(e=>e.id===t)},add(t){this.userEngine.add(t)},search(t){let e=this.userEngine.search(t),r=this.builtinEngine.search(t);return e.concat(r).map(t=>t.item)}},c=(0,n.Ue)()((0,a.tJ)((t,e)=>({counter:0,latestId:0,prompts:{},add(r){let n=e().prompts;return r.id=e().latestId+1,r.isUser=!0,n[r.id]=r,t(()=>({latestId:r.id,prompts:n})),r.id},get(t){let r=e().prompts[t];return r||i.builtinPrompts.find(e=>e.id===t)},remove(r){let n=e().prompts;delete n[r],i.remove(r),t(()=>({prompts:n,counter:e().counter+1}))},getUserPrompts(){var t;let r=Object.values(null!==(t=e().prompts)&&void 0!==t?t:{});return r.sort((t,e)=>e.id&&t.id?e.id-t.id:0),r},update(r,n){var a;let s=null!==(a=e().prompts[r])&&void 0!==a?a:{title:"",content:"",id:r};i.remove(r),n(s);let l=e().prompts;l[r]=s,t(()=>({prompts:l})),i.add(s)},search:t=>0===t.length?i.allPrompts.concat([...e().getUserPrompts()]):i.search(t)}),{name:o.KJ.Prompt,version:1,onRehydrateStorage(t){fetch("./prompts.json").then(t=>t.json()).then(t=>{var e;let r=[t.en,t.cn];"cn"===(0,l.VQ)()&&(r=r.reverse());let n=r.map(t=>t.map(t=>{let[e,r]=t;return{id:Math.random(),title:e,content:r}})),a=null!==(e=c.getState().getUserPrompts())&&void 0!==e?e:[],s=n.reduce((t,e)=>t.concat(e),[]).filter(t=>!!t.title&&!!t.content);i.count.builtin=t.en.length+t.cn.length,i.init(s,a)})}}))},1163:function(t,e,r){t.exports=r(6885)}}]);