(function(t){function e(e){for(var a,o,r=e[0],n=e[1],c=e[2],d=0,u=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);p&&p(e);while(u.length)u.shift()();return l.push.apply(l,c||[]),s()}function s(){for(var t,e=0;e<l.length;e++){for(var s=l[e],a=!0,r=1;r<s.length;r++){var n=s[r];0!==i[n]&&(a=!1)}a&&(l.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={index:0},l=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var p=n;l.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0074":function(t,e,s){"use strict";s("f519")},"0321":function(t,e,s){},"03d8":function(t,e,s){"use strict";s("e094")},"0c32":function(t,e,s){"use strict";s("93b5")},1183:function(t,e,s){"use strict";s("ec03")},"15c1":function(t,e,s){"use strict";s("5dfc")},"1ae0":function(t,e,s){},"1e09":function(t,e,s){},"1fb6":function(t,e,s){"use strict";var a=s("cf35"),i=function(){var t=this,e=t._self._c;return e(a["a"],{staticClass:"pad10"},[e("div",{staticClass:"topBtn"},[e("el-button",{attrs:{size:"mini",icon:"el-icon-plus",type:"primary"},on:{click:t.addVariable}},[t._v(t._s(t.$t("viewTemplate.addVariables")))]),e("el-button",{attrs:{size:"mini",icon:"el-icon-check",type:"info"},on:{click:t.handleSave}},[t._v(t._s(t.$t("templateModal.save")))])],1),t._l(t.variablesList,(function(t,s){return e("iShowInput",{key:s+"false",attrs:{form:t,is_show:!1}})})),t._l(t.variablesList,(function(s,a){return e("el-button",{key:a,staticClass:"el_edit",staticStyle:{margin:"10px 0 0 10px"},attrs:{type:"info"},on:{click:function(e){return t.handleEdit(s,a)}}},[e("span",{staticClass:"label"},[t._v(t._s(s.label))]),e("span",{staticClass:"els"},[t._v(t._s(s.style))])])})),e("edit",{ref:"edits",on:{deleteForms:t.deleteForm}})],2)},l=[],o=(s("f921"),s("ec0b")),r=s("6068"),n={data(){return{index:"",variablesList:[]}},components:{edit:o["a"],iShowInput:r["a"]},methods:{handleEdit(t,e){this.$refs.edits.opens=!0,this.index=e,this.$refs.edits.form=t},addVariable(){this.variablesList.push({key:this.$store.state.variablesKey.input,field:"Variable_"+this.variablesList.length,label:"Variable "+this.variablesList.length,desc:"",options:[],is_show:!0,style:"input"})},deleteForm(){this.variablesList.splice(this.index,1)},handleSave(){this.$emit("handleSave",this.variablesList)}}},c=n,p=(s("b47a"),s("e607")),d=Object(p["a"])(c,i,l,!1,null,null,null);e["a"]=d.exports},"23be":function(t,e,s){"use strict";var a=s("9618"),i=s.n(a);e["default"]=i.a},2482:function(t,e,s){"use strict";s("aa01")},3282:function(t,e,s){},"365c":function(t,e,s){"use strict";s.d(e,"j",(function(){return i})),s.d(e,"r",(function(){return l})),s.d(e,"k",(function(){return o})),s.d(e,"i",(function(){return r})),s.d(e,"e",(function(){return n})),s.d(e,"b",(function(){return c})),s.d(e,"a",(function(){return p})),s.d(e,"m",(function(){return d})),s.d(e,"c",(function(){return u})),s.d(e,"d",(function(){return m})),s.d(e,"h",(function(){return h})),s.d(e,"n",(function(){return _})),s.d(e,"s",(function(){return f})),s.d(e,"q",(function(){return g})),s.d(e,"g",(function(){return v})),s.d(e,"l",(function(){return y})),s.d(e,"p",(function(){return b})),s.d(e,"f",(function(){return x})),s.d(e,"o",(function(){return k}));var a=s("b775");function i(t){return Object(a["a"])({url:"/aigc/v1/template/page",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/aigc/v1/templateDownload/list",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/aigc/v1/template/tokenInfo",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/aigc/v1/template/detail",method:"get",params:t})}function n(t,e,s){return Object(a["a"])({url:"/aigc/v1/template/executeTemplate",method:"post",data:t,responseType:e.stream,onDownloadProgress:s})}function c(t){return Object(a["a"])({url:"/aigc/v1/template/create",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/aigc/v1/template/copy",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/aigc/v1/template/modify",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/aigc/v1/template/delete",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/aigc/v1/templateDownload/delete",method:"get",params:t})}function h(t){return Object(a["a"])({url:"/aigc/v1/config/get",method:"get",params:t})}function _(t){return Object(a["a"])({url:"/aigc/v1/config/set",method:"post",data:t})}function f(t){return Object(a["a"])({url:"/aigc/v1/template/topics",method:"get",params:t})}function g(t){return Object(a["a"])({url:"/aigc/v1/template/tags",method:"get",params:t})}function v(t){return Object(a["a"])({url:"/aigc/v1/template/sceneList",method:"get",params:t})}function y(t){return Object(a["a"])({url:"/aigc/v1/wp/getUserName",method:"get",params:t})}function b(t){return Object(a["a"])({url:"/aigc/v1/template/submit",method:"post",data:t})}function x(t){return Object(a["a"])({url:"/aigc/v1/template/generatePromptDetails",method:"get",params:t})}function k(t){return Object(a["a"])({url:"/aigc/v1/template/stepList",method:"get",params:t})}},"3dfd":function(t,e,s){"use strict";var a=s("c463"),i=s("23be"),l=s("e607"),o=Object(l["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},"4d9b":function(t,e,s){"use strict";s("3282")},"56d7":function(t,e,s){"use strict";s.r(e);s("cdba"),s("1ff0");var a=s("356b"),i=s.n(a),l=(s("f3c1"),s("be76")),o=s.n(l),r=(s("c7e4"),s("3300")),n=s.n(r),c=(s("0768"),s("feff")),p=s.n(c),d=(s("9492"),s("5daa")),u=s.n(d),m=(s("0c34"),s("57ca")),h=s.n(m),_=(s("47bf"),s("6fd6")),f=s.n(_),g=(s("7c47"),s("7d9d")),v=s.n(g),y=(s("d088"),s("59c4")),b=s.n(y),x=(s("f1e8"),s("4e54")),k=s.n(x),L=s("1f37"),$=s("3dfd"),S=(s("1e09"),s("f911")),w=s.n(S),C=(s("ad45"),s("7736")),M=s("160d");L["default"].use(C["a"]);let T={background:"#25293c",card_color:"#2f3349",variablesKey:{},templateTotal:void 0,templateList:[]},D={},P={getVariablesKey(t,e){t.variablesKey=e},setTemplateTotal(t,e){t.templateTotal=e},getTemplateList(t,e){t.templateList=e}},O={},E=new M["a"]({storage:window.sessionStorage});var q=new C["a"].Store({state:T,getters:D,mutations:P,actions:O,plugins:[E.plugin]}),I=s("397c");let A;L["default"].use(I["a"]),A=MOREDEAL_AIGC.lang;const R={locale:A,messages:{zh_CN:s("9a9c"),en_US:s("76c4")}};var j=R,U=s("22a5");L["default"].use(U["a"]);var F=new U["a"]({theme:{dark:!0,themes:{dark:{primary:"#7367f0"}}},icons:{iconfont:"mdiSvg"}}),B=s("e6ef"),N=s.n(B),W=s("f038"),V=s("6c44"),K=s("5482"),z=s("cf35"),G=s("f498"),H=s("1b57"),J=s("6477"),Q=s("843d"),Y=function(){var t=this,e=t._self._c;return e(V["a"],[e("div",{staticClass:"main"},[e(J["a"],{attrs:{optional:"","background-color":t.$store.state.background},on:{change:t.changeTab}},[e(G["a"],{staticStyle:{"text-transform":"none"},attrs:{to:"/market"}},[t._v(t._s(t.$t("tabs.templateMarket")))]),e(G["a"],{staticStyle:{"text-transform":"none"},attrs:{exact:"",to:"/home"}},[t._v(t._s(t.$t("tabs.myTemplate")))]),e(H["a"],{attrs:{value:"/market",transition:!1}},[e("templateMark",{ref:"templateMarks"})],1),e(H["a"],{attrs:{value:"/home",transition:!1}},[e(z["a"],{attrs:{color:t.$store.state.background}},[e("myself-template",{ref:"myselfTemplates"})],1)],1),e(H["a"],{attrs:{value:"/service",transition:!1}},[e("service",{ref:"services"})],1),e(H["a"],{attrs:{transition:!1}},[e(z["a"],{staticStyle:{"padding-top":"50px"},attrs:{color:t.$store.state.background}},[e(Q["a"],{staticStyle:{width:"700px"},attrs:{"persistent-placeholder":"",clearable:"",label:"api_key",outlined:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[e(K["a"],{on:{click:t.handleSave}},[t._v(t._s(t.$t("setting.save")))])]},proxy:!0}]),model:{value:t.api_key,callback:function(e){t.api_key=e},expression:"api_key"}})],1)],1)],1)],1)])},X=[],Z=s("e981"),tt=s("c3a3"),et=s("fa2f"),st=s("5658"),at=s("cb6c"),it=s("4067"),lt=s("6a4b"),ot=s("ce78"),rt=s("76b9"),nt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{width:"1100px",margin:"0 auto"}},[e(et["a"],{staticStyle:{"margin-top":"20px"}},[e(lt["a"],[e(tt["a"],{attrs:{cols:"3"}},[e(Q["a"],{attrs:{"persistent-placeholder":"",label:t.$t("myselfTemplateList.templateName"),clearable:"",outlined:""},on:{input:t.textChange},model:{value:t.queryParams.name,callback:function(e){t.$set(t.queryParams,"name",e)},expression:"queryParams.name"}})],1),e(tt["a"],{attrs:{cols:"3"}},[e(ot["a"],{attrs:{multiple:"","small-chips":"","persistent-placeholder":"",items:t.topicList,label:t.$t("myselfTemplateList.templateCategory"),clearable:"",outlined:""},on:{change:t.selectChange},model:{value:t.queryParams.topics,callback:function(e){t.$set(t.queryParams,"topics",e)},expression:"queryParams.topics"}})],1),e(tt["a"],{attrs:{cols:"3"}},[e(ot["a"],{attrs:{multiple:"","small-chips":"","persistent-placeholder":"",items:t.tagsList,label:t.$t("myselfTemplateList.templateTag"),clearable:"",outlined:""},on:{change:t.selectChange},model:{value:t.queryParams.tags,callback:function(e){t.$set(t.queryParams,"tags",e)},expression:"queryParams.tags"}})],1)],1)],1),0!=t.recommendList.length?e("div",{staticStyle:{display:"flex","margin-bottom":"10px","align-items":"end"}},[e("div",{staticClass:"subHeader"},[t._v(t._s(t.$t("tabs.template_recommend")))]),e("div",{staticStyle:{cursor:"pointer","margin-left":"20px","font-size":"14px",color:"#7367f0"},on:{click:t.toInstruction}},[t._v(t._s(t.$t("myselfTemplateList.instruction")))])]):t._e(),0!=t.recommendList.length?e("div",{staticClass:"templateList"},t._l(t.recommendList,(function(s,a){return e(z["a"],{key:a,staticClass:"myselfTemplate",on:{click:function(e){return t.createCode(s)}}},[e("div",{staticStyle:{overflow:"hidden"}},[e(at["a"],{staticClass:"transformImg",attrs:{height:"130px",src:s.image_urls}})],1),e("div",{staticClass:"templateTitle"},[t._v(t._s(s.name))]),e("div",{staticClass:"templateDesc"},[t._v(t._s(s.desc))]),e("div",{staticStyle:{position:"absolute",bottom:"10px",left:"10px"}},t._l(s.topics,(function(s){return e("span",{key:s,staticClass:"topicHover",attrs:{outlined:""},on:{click:function(e){return e.stopPropagation(),t.goMarket(s)}}},[t._v("#"+t._s(s))])})),0)])})),1):t._e(),0!=t.filteredDown.length?e("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",margin:"30px 0 10px 0"}},[e("div",{staticClass:"subHeader"},[t._v(t._s(t.$t("tabs.template_download")))]),e("div",{staticStyle:{display:"flex","align-items":"center",cursor:"pointer",color:"#7367f0"},on:{click:t.toMarket}},[t._v(t._s(t.$t("myselfTemplateList.more"))),e(st["a"],{attrs:{color:"#7367f0"}},[t._v(t._s(t.mdiChevronRight))])],1)]):t._e(),0!=t.filteredDown.length?e("div",{staticClass:"templateList"},t._l(t.filteredDown,(function(s,a){return e(z["a"],{key:a,staticClass:"myselfTemplate",on:{click:function(e){return t.createCode(s,"dowloadTemplate")}}},[e("div",{staticStyle:{overflow:"hidden"}},[e(at["a"],{staticClass:"transformImg",attrs:{height:"130px",src:s.image_urls}})],1),e("div",{staticClass:"templateTitle"},[t._v(t._s(s.name))]),e("div",{staticClass:"templateDesc"},[t._v(t._s(s.desc))]),e("div",{staticStyle:{position:"absolute",bottom:"10px",left:"10px"}},t._l(s.topics,(function(s){return e("span",{key:s,staticClass:"topicHover",attrs:{outlined:""},on:{click:function(e){return e.stopPropagation(),t.goMarket(s)}}},[t._v("#"+t._s(s))])})),0)])})),1):t._e(),e("div",{staticClass:"subHeader",staticStyle:{"margin-top":"30px"}},[t._v(t._s(t.$t("tabs.myTemplate")))]),e("div",{staticClass:"moredeal"},t._l(t.endTemplate,(function(s,a){return e("div",{key:a,staticClass:"tagList",on:{click:function(e){return t.goDetail(s)}}},[e(st["a"],{staticClass:"tagIcon",attrs:{"x-large":""}},[t._v(" "+t._s("Other"==s.topics[0]?t.mdiCubeOutline:"Email"==s.topics[0]?t.mdiEmail:"Blog"==s.topics[0]?t.mdiPost:"Writing"==s.topics[0]?t.mdiAlphabetLatin:"Social Media"==s.topics[0]?t.mdiMultimedia:"Marketing"==s.topics[0]?t.mdiShopping:"Business"==s.topics[0]?t.mdiCreditCard:"Fun"==s.topics[0]?t.mdiAirballoon:"Role Play"==s.topics[0]?t.mdiPlay:"Amazon"==s.topics[0]?t.mdiShoppingOutline:"Website"==s.topics[0]?t.mdiAlphabetLatin:"Ads"==s.topics[0]?t.mdiAdvertisements:"Resume"==s.topics[0]?t.mdiAccount:t.mdiFileTableOutline)+" ")]),e("div",{staticClass:"tagDes"},[e(rt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){let{on:i,attrs:l}=a;return[s.template_id?e(st["a"],t._g(t._b({staticStyle:{position:"absolute",right:"5px",top:"5px"},attrs:{small:"",color:"#7367f0"}},"v-icon",l,!1),i),[t._v(t._s(t.mdiFileUploadOutline))]):t._e()]}}],null,!0)},[e("span",[t._v(t._s(s.update_time))])]),e(rt["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){let{on:i,attrs:l}=a;return[e("div",t._g(t._b({staticClass:"tagName"},"div",l,!1),i),[t._v(t._s(s.name))])]}}],null,!0)},[e("span",[t._v(t._s(s.name))])]),e("div",{staticClass:"tagContent"},[e("div",{staticClass:"Desc"},[t._v(t._s(s.desc))]),e("div",{staticStyle:{position:"absolute",right:"-28px",width:"114px"}},t._l(s.stepIcons,(function(s,a){return e("img",{key:a,staticStyle:{width:"15px",height:"15px","margin-left":"5px"},style:{filter:t.$vuetify.theme.dark?"brightness(0) invert(1)":"brightness(0) invert(0)"},attrs:{src:s,alt:""}})})),0)]),e("div",{staticStyle:{height:"20px"}},t._l(s.topics,(function(s){return e("span",{key:s,staticClass:"topicHover",attrs:{outlined:""},on:{click:function(e){return e.stopPropagation(),t.goMarket(s)}}},[t._v("#"+t._s(s))])})),0),e("div",{staticStyle:{height:"25px","margin-top":"5px"}},[t._l(s.tags,(function(s){return e(Z["a"],{key:s,staticStyle:{"margin-right":"5px"},attrs:{outlined:"",small:""}},[t._v(t._s(s))])})),e(rt["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){let{on:i,attrs:l}=a;return[e("span",t._g(t._b({staticStyle:{"font-size":"12px",color:"rgb(126, 135, 155)","margin-right":"-28px",display:"inline-block",float:"right","margin-top":"9px"},attrs:{outlined:"",small:""}},"span",l,!1),i),[t._v(t._s(s.gmt_create))])]}}],null,!0)},[e("span",[t._v(t._s(t.$t("templateModal.createTime")))])])],2)],1)],1)})),0),t.total>=40?e(it["a"],{attrs:{color:"primary",length:Math.ceil(t.total/t.pageQuery.pageSize),"total-visible":7},on:{input:t.changePagination},model:{value:t.pageQuery.page,callback:function(e){t.$set(t.pageQuery,"page",e)},expression:"pageQuery.page"}}):t._e()],1),e("create-modal",{ref:"createModals"})],1)},ct=[],pt=(s("f921"),s("4d06")),dt=s("5557"),ut=s("8cf9"),mt=s("bd1c"),ht=s("3a9f"),_t=s("5454"),ft=s("2379"),gt=s("5bc0"),vt=s("4201"),yt=s("e569"),bt=s("9044"),xt=s("938a"),kt=s("e9e6"),Lt=s("655e"),$t=s("14d8"),St=function(){var t=this,e=t._self._c;return e("div",[e(mt["a"],{staticStyle:{"overflow-x":"hidden"},attrs:{"retain-focus":!1,persistent:"","no-click-animation":"",fullscreen:"","hide-overlay":"",transition:!1},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[e(z["a"],{staticClass:"pad10",staticStyle:{height:"100%","overflow-y":"auto"},attrs:{color:t.$store.state.background}},[e(Lt["a"],{staticStyle:{"margin-top":"10px"},attrs:{color:t.$store.state.background,elevation:"0",extended:"","extension-height":"10"}},[e(K["a"],{attrs:{text:""},on:{click:t.handleBack}},[e(st["a"],{attrs:{left:""}},[t._v(t._s(t.mdiArrowLeft))]),t._v(t._s(t.$t("templateModal.back"))+" ")],1),e($t["a"],{staticStyle:{"margin-left":"10px",width:"300px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(t.totalData.name))]),e("div",{staticClass:"statistics"},[e("div",{staticClass:"tokens"},[e("p",{staticClass:"labels"},[t._v("Tokens")]),e("p",{staticClass:"value"},[t._v(t._s(t.tokenList.tokenUsable))])]),e("div",{staticClass:"tokens"},[e("p",{staticClass:"labels"},[t._v("Trial Days")]),e("p",{staticClass:"value"},[t._v(t._s(t.tokenList.timeLeft))])]),e("div",{staticStyle:{padding:"0 10px",background:"#7367f0","border-radius":"20px"}},[t._v(t._s(t.tokenList.level))]),e(K["a"],{attrs:{color:"primary",text:"","x-small":""},on:{click:t.contact}},[t._v(t._s(t.$t("templateModal.upgrade")))])],1),e(bt["a"]),e(yt["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a,attrs:i}=s;return[e(K["a"],t._g(t._b({staticStyle:{margin:"0 5px"},attrs:{fab:"",small:"",text:""}},"v-btn",i,!1),a),[e(st["a"],[t._v(t._s(t.mdiDotsVertical))])],1)]}}])},[e(_t["a"],{attrs:{dense:""}},[t.totalData.id||0===t.totalData.id||"dowloadTemplate"==t.type?e(ft["a"],{attrs:{link:""},on:{click:function(e){t.dialog=!0}}},[e(st["a"],{attrs:{color:"error"}},[t._v(t._s(t.mdiDelete))]),e(vt["b"],[t._v(t._s(t.$t("viewTemplate.delete")))])],1):t._e(),t.totalData.id?e(ft["a"],{attrs:{link:""},on:{click:t.copyTemplate}},[e(st["a"],[t._v(t._s(t.mdiContentCopy))]),e(vt["b"],[t._v(t._s(t.$t("viewTemplate.copy"))+" ")])],1):t._e()],1)],1),e(rt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a}=s;return[e(K["a"],t._g({staticStyle:{"margin-right":"10px"},attrs:{text:""},on:{click:t.configuration}},a),[e(st["a"],[t._v(t._s(t.mdiClipboardFlow))])],1)]}}])},[e("span",[t._v(t._s(t.$t("templateModal.configuration")))])]),e(K["a"],{attrs:{color:"primary",loading:t.saveLoading},on:{click:t.handleSave}},[t._v(" "+t._s(t.$t("templateModal.save")))])],1),e(lt["a"],[e(tt["a"],{staticStyle:{padding:"0 0 0 20px"},attrs:{cols:"4"}},[e(z["a"],{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"pad10 mar10",attrs:{color:t.$store.state.card_color,elevation:"5"}},[e(J["a"],{attrs:{"background-color":t.$store.state.card_color},model:{value:t.foundcative,callback:function(e){t.foundcative=e},expression:"foundcative"}},[e(G["a"],{staticStyle:{"text-transform":"none"}},[t._v(t._s(t.$t("templateModal.foundation")))]),e(G["a"],{staticStyle:{"text-transform":"none"}},[t._v(t._s(t.$t("templateModal.model")))]),e(G["a"],[t._v(t._s(t.$t("templateModal.scene")))]),e(xt["a"],{model:{value:t.foundcative,callback:function(e){t.foundcative=e},expression:"foundcative"}},[e(H["a"],{attrs:{transition:!1}},[e(z["a"],{staticStyle:{overflow:"hidden"},attrs:{color:t.$store.state.card_color}},[e("div",{staticClass:"generalDesc"},[t._v(" "+t._s(t.$t("templateModal.basics"))+" "),e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"https://www.mdc.ai/ai-writer-document/",target:"_blank"}},[t._v(t._s(t.$t("templateModal.basicsBtn")))])]),e(et["a"],{ref:"leftForm",staticStyle:{"margin-top":"20px"}},[e(Q["a"],{attrs:{"persistent-hint":"","validate-on-blur":"",clearable:"",rules:[e=>!!e||t.$t("templateModal.templateName")+t.$t("myselfTemplateList.isRequire")],"persistent-placeholder":"",label:t.$t("templateModal.templateName"),placeholder:t.$t("templateModal.pleaseName"),outlined:""},model:{value:t.totalData.name,callback:function(e){t.$set(t.totalData,"name",e)},expression:"totalData.name"}}),e(kt["a"],{attrs:{"persistent-placeholder":"",clearable:"",label:t.$t("templateModal.templateDesc"),placeholder:t.$t("templateModal.pleaseDesc"),outlined:""},model:{value:t.totalData.desc,callback:function(e){t.$set(t.totalData,"desc",e)},expression:"totalData.desc"}}),e(ot["a"],{attrs:{multiple:"","small-chips":"","persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||"Category"+t.$t("myselfTemplateList.isRequire"),e=>e.length>0||"Category"+t.$t("myselfTemplateList.isRequire")],placeholder:"Please select Category",items:t.topicList,label:"Category",outlined:"",clearable:""},model:{value:t.totalData.topics,callback:function(e){t.$set(t.totalData,"topics",e)},expression:"totalData.topics"}}),e(ut["a"],{attrs:{"persistent-placeholder":"","persistent-hint":"",hint:"Enter the content and press Enter to generate the label",label:"Tags",clearable:"",multiple:"",outlined:"","small-chips":""},model:{value:t.totalData.tags,callback:function(e){t.$set(t.totalData,"tags",e)},expression:"totalData.tags"}})],1),t.foundationList.some(t=>t.is_show)?e(ht["a"]):t._e(),e(et["a"],{ref:"leftFormVar"},[t.foundationList.some(t=>t.is_show)?e(dt["b"],{staticStyle:{padding:"0 0 5px 0"}},[t._v(t._s(t.$t("templateModal.Variable")))]):t._e(),t._l(t.foundationList,(function(t,s){return e("iShowInput",{key:t.key+s,attrs:{form:t}})}))],2)],1)],1),e(H["a"],{attrs:{transition:!1}},[e(z["a"],{attrs:{color:t.$store.state.card_color}},[e(_t["a"],{attrs:{color:t.$store.state.card_color}},[e(ft["a"],[e(gt["a"],{staticStyle:{width:"130px"}},[t._v(t._s(t.$t("advanced.version")))]),e(vt["a"],[t.totalData.info?e(vt["b"],[t._v(t._s(t.totalData.info.version))]):t._e()],1)],1),e(ft["a"],[e(gt["a"],{staticStyle:{width:"130px"}},[t._v(t._s(t.$t("advanced.key")))]),e(vt["a"],[t.totalData.info?e(vt["b"],[t._v(t._s(t.totalData.info.key))]):t._e()],1)],1),e(ft["a"],[e(gt["a"],{staticStyle:{width:"130px"}},[t._v(t._s(t.$t("advanced.id")))]),e(vt["a"],[e(vt["b"],[t._v(t._s(t.totalData.id))])],1)],1),t.totalData.id?e(ft["a"],[e(gt["a"],{staticStyle:{width:"130px"}},[t._v("ShortCord")]),e(vt["a"],[e(rt["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a,attrs:i}=s;return[e(vt["b"],t._g(t._b({staticStyle:{cursor:"pointer"},on:{click:function(e){return t.copyShortCord(`[moredeal_ai_writer_template id=${t.totalData.id}]`)}}},"v-list-item-title",i,!1),a),[t._v("[moredeal_ai_writer_template id="+t._s(t.totalData.id)+"]")])]}}],null,!1,205196966)},[e("span",[t._v("Click Copy")])])],1)],1):t._e(),t.totalData.id?e(ft["a"],[e(gt["a"],{staticStyle:{width:"130px"}},[t._v("modifier")]),e(vt["a"],[e(vt["b"],[t._v(t._s(t.totalData.modifier))])],1)],1):t._e(),e(ft["a"],[t.totalData.id&&"pro"==t.level?e(K["a"],{attrs:{color:"primary"},on:{click:t.submitTem}},[t._v(t._s(t.$t("templateModal.submit")))]):t._e()],1)],1)],1)],1),e(H["a"],{attrs:{transition:!1}},[e(z["a"],{attrs:{color:t.$store.state.card_color}},[e(ot["a"],{staticStyle:{"padding-top":"10px"},attrs:{multiple:"","small-chips":"","persistent-placeholder":"",items:t.sceneList,"item-value":"key","item-text":"name","item-disabled":t.disableOption,label:t.$t("templateModal.scene"),outlined:""},scopedSlots:t._u([{key:"item",fn:function(s){let{item:a}=s;return[e("div",[e("div",[t._v(t._s(a.name))]),e("div",{staticStyle:{color:"#7e879b","font-size":"12px",width:"500px"}},[t._v(t._s(a.description))])])]}}]),model:{value:t.totalData.scenes,callback:function(e){t.$set(t.totalData,"scenes",e)},expression:"totalData.scenes"}})],1)],1)],1)],1)],1)],1),e(tt["a"],{staticStyle:{padding:"0 12px"},attrs:{cols:"8"}},[e("executeStep",{ref:"executeSteps",attrs:{loading:t.loading,totalData:t.totalData,stepList:t.stepList,lbForm:t.lbForm},on:{getLBForm:t.getLBForms,getToken:function(e){return t.tokenUsageList()}}})],1)],1)],1),e("step-configuration",{ref:"configurations",on:{handleSaves:t.setConfigurations}}),e(mt["a"],{attrs:{transition:!1,width:"410"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(z["a"],{staticStyle:{"padding-top":"20px"},attrs:{color:t.$store.state.background}},[e(dt["b"],{staticClass:"text-h6"},[t._v(" "+t._s(t.$t("templateModal.reconfirm"))+" ")]),e(dt["a"],[e(bt["a"]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v(t._s(t.$t("templateModal.cancel")))]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{color:"primary",text:""},on:{click:t.handleDel}},[t._v(t._s(t.$t("templateModal.save1")))])],1)],1)],1),e(mt["a"],{attrs:{transition:!1,"no-click-animation":"",persistent:"",width:"800"},model:{value:t.upload,callback:function(e){t.upload=e},expression:"upload"}},[e(z["a"],{staticStyle:{"padding-top":"30px"},attrs:{color:t.$store.state.card_color}},[e(et["a"],{ref:"uploadTemplates",staticStyle:{margin:"0 20px"}},[e(ot["a"],{attrs:{multiple:"","small-chips":"","persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||"category"+t.$t("myselfTemplateList.isRequire"),e=>e.length>0||"category"+t.$t("myselfTemplateList.isRequire")],items:t.topicList,label:"category",outlined:""},model:{value:t.uploadTemplate.topics,callback:function(e){t.$set(t.uploadTemplate,"topics",e)},expression:"uploadTemplate.topics"}}),e(Q["a"],{attrs:{"validate-on-blur":"",rules:[e=>!!e||"Your Name"+t.$t("myselfTemplateList.isRequire")],"persistent-placeholder":"",clearable:"",label:"Your Name",outlined:"",counter:"10",maxlength:"10"},model:{value:t.uploadTemplate.creator,callback:function(e){t.$set(t.uploadTemplate,"creator",e)},expression:"uploadTemplate.creator"}}),e(ot["a"],{attrs:{"persistent-placeholder":"",placeholder:"Please select a language","validate-on-blur":"",rules:[e=>!!e||"language"+t.$t("myselfTemplateList.isRequire")],items:t.languageList,"item-text":"label","item-value":"value",label:"language",clearable:"",outlined:""},model:{value:t.uploadTemplate.language,callback:function(e){t.$set(t.uploadTemplate,"language",e)},expression:"uploadTemplate.language"}}),e(K["a"],{staticStyle:{"margin-bottom":"10px","text-transform":"none"},attrs:{color:"primary",loading:t.exampleLoading},on:{click:t.getExample}},[t._v("Generate Example")]),e(J["a"],{attrs:{"background-color":t.$store.state.background}},[e(G["a"],{staticStyle:{"text-transform":"none"}},[t._v("Edit Example")]),e(G["a"],{staticStyle:{"text-transform":"none"},attrs:{transition:!1}},[t._v("Preview Template")]),e(H["a"],{attrs:{transition:!1}},[e("mavon-editor",{staticStyle:{height:"400px",color:"#fff !important"},attrs:{placeholder:"Please enter prompt Details",previewBackground:t.$store.state.background,subfield:!1,defaultOpen:"edit",toolbarsFlag:!1},model:{value:t.uploadTemplate.promptDetails,callback:function(e){t.$set(t.uploadTemplate,"promptDetails",e)},expression:"uploadTemplate.promptDetails"}})],1),e(H["a"],{attrs:{transition:!1}},[e("mavon-editor",{staticStyle:{height:"400px",color:"#fff !important"},attrs:{previewBackground:t.$store.state.background,subfield:!1,defaultOpen:"preview",toolbarsFlag:!1},model:{value:t.uploadTemplate.promptDetails,callback:function(e){t.$set(t.uploadTemplate,"promptDetails",e)},expression:"uploadTemplate.promptDetails"}})],1)],1)],1),e(dt["a"],[e(bt["a"]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{text:""},on:{click:t.topicCancel}},[t._v(t._s(t.$t("templateModal.cancel")))]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{color:"primary",text:""},on:{click:t.topicSave}},[t._v(t._s(t.$t("templateModal.save1")))])],1)],1)],1),e(mt["a"],{attrs:{transition:!1,fullscreen:"","hide-overlay":"","no-click-animation":""},model:{value:t.openPPT,callback:function(e){t.openPPT=e},expression:"openPPT"}},[e(z["a"],{attrs:{color:t.$store.state.card_color}},[e("mark-display",{attrs:{markdown:t.pptValue}})],1)],1)],1)],1)},wt=[],Ct=s("f159"),Mt=Ct["a"],Tt=(s("9b5f"),s("e607")),Dt=Object(Tt["a"])(Mt,St,wt,!1,null,"8f711f5e",null),Pt=Dt.exports,Ot=s("365c"),Et={data(){return{mdiChevronRight:pt["k"],mdiFileUploadOutline:pt["y"],mdiCubeOutline:pt["q"],mdiEmail:pt["u"],mdiPost:pt["H"],mdiAlphabetLatin:pt["f"],mdiMultimedia:pt["D"],mdiShopping:pt["I"],mdiCreditCard:pt["p"],mdiAirballoon:pt["e"],mdiPlay:pt["F"],mdiShoppingOutline:pt["J"],mdiAdvertisements:pt["d"],mdiAccount:pt["a"],mdiFileTableOutline:pt["x"],queryParams:{},templateList:[],filteredItem:[],endTemplate:[],filteredDown:[],recommendList:[],downloadList:[],createList:{},topicList:[],tagsList:[],total:0,pageQuery:{page:1,pageSize:40}}},components:{createModal:Pt},created(){this.getTemplateList(),this.getTopic(),this.getTag()},methods:{...Object(C["b"])(["getVariablesKey"]),async getTemplateList(){let t=await Promise.all([Object(Ot["j"])({current:1,limit:1e4}),Object(Ot["r"])({current:1,limit:1e4})]);this.templateList=t[0].data.list,this.downloadList=t[1].data.template_download,this.recommendList=t[1].data.template_recommend,this.filteredItem=this.templateList,this.filteredDown=this.downloadList,this.filteredItems()},textChange(){clearInterval(this.timmer),this.timmer=setInterval(()=>{clearInterval(this.timmer),this.filteredItems()},200)},selectChange(){clearInterval(this.timmer),this.timmer=setInterval(()=>{clearInterval(this.timmer),this.filteredItems()},200)},filteredItems(){this.filteredItem=this.AllFilteredItems(this.templateList),this.total=this.filteredItem.length,this.changePagination(1),this.filteredDown=this.AllFilteredItems(this.downloadList)},AllFilteredItems(t){return t.filter(t=>{let e=!0,s=!0,a=!0;return this.queryParams.name&&(e=t.name.toLowerCase().includes(this.queryParams.name.toLowerCase())),this.queryParams.topics&&this.queryParams.topics.length>0&&(s=!!t.topics&&this.queryParams.topics.some(e=>t.topics.includes(e))),this.queryParams.tags&&this.queryParams.tags.length>0&&(a=!!t.tags&&this.queryParams.tags.some(e=>t.tags.includes(e))),e&&s&&a})},goDetail(t){this.$refs.createModals.templateType=void 0,this.$refs.createModals.logotype=void 0,this.funPublic(),this.$refs.createModals.getStepDataList(t.id),this.$refs.createModals.open=!0,this.$refs.createModals.type=void 0},createCode(t,e){this.$refs.createModals.templateType=t.key,"TemplateModule"==t.key?this.$refs.createModals.logotype=t.logotype:this.$refs.createModals.logotype=void 0,this.funPublic(),this.$refs.createModals.getStepDataList(),this.$refs.createModals.open=!0,this.$refs.createModals.type=e},funPublic(){this.$refs.createModals.getTopic(),this.$refs.createModals.foundcative="foundtion",this.$refs.createModals.tokenUsageList(),this.$refs.createModals.getSceneList()},getTopic(){Object(Ot["s"])().then(t=>{document.documentElement.scrollTop=0,this.topicList=t.data.topics})},getTag(){Object(Ot["q"])().then(t=>{this.tagsList=t.data.tags})},toMarket(){this.$router.push("/market"),document.documentElement.scrollTop=0},goMarket(t){this.$router.push("/market/"+t),document.documentElement.scrollTop=0},toInstruction(){window.open("https://www.mdc.ai/document-en/")},changePagination(t){this.pageQuery.page=t,this.endTemplate=this.filteredItem.slice((t-1)*this.pageQuery.pageSize,(t-1)*this.pageQuery.pageSize+this.pageQuery.pageSize)}}},qt=Et,It=(s("1183"),Object(Tt["a"])(qt,nt,ct,!1,null,"826e9b18",null)),At=It.exports,Rt=s("83bb"),jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mains",attrs:{id:"container"},on:{scroll:t.goodsScroll}},[e("div",{staticClass:"marketList"},[e("div",{staticClass:"searchTitle"},[e("div",{staticClass:"mark"},[t._v(t._s(t.$t("templateModal.temName")))]),e("div",{staticClass:"searchDesc"},[t._v(t._s(t.$t("templateModal.browse"))+" "+t._s(t.$store.state.templateTotal)+"+ "+t._s(t.$t("templateModal.baseAi")))])]),e(Q["a"],{attrs:{clearable:"",outlined:""},on:{input:t.searchData},model:{value:t.queryParams.input,callback:function(e){t.$set(t.queryParams,"input",e)},expression:"queryParams.input"}}),e(lt["a"],[e(tt["a"],{attrs:{cols:"10"}},[e(Rt["a"],{attrs:{"next-icon":t.mdiArrowRightThin,"prev-icon":t.mdiArrowLeftThin,"show-arrows":"","active-class":"primary--text"},on:{change:t.changeTopic},model:{value:t.queryParams.topic,callback:function(e){t.$set(t.queryParams,"topic",e)},expression:"queryParams.topic"}},[0!=t.topicList.length?e(Z["a"],{key:"all",attrs:{value:null,outlined:""}},[t._v(t._s(t.$t("templateModal.all")))]):t._e(),t._l(t.topicList,(function(s){return e(Z["a"],{key:s,attrs:{value:s,outlined:""}},[t._v(t._s(s))])}))],2)],1),e(tt["a"],{attrs:{cols:"2"}},[e(ot["a"],{attrs:{"persistent-placeholder":"","item-value":"key",items:t.sortsList,label:t.$t("templateModal.sort"),outlined:"",clearable:""},on:{input:t.seleSort},scopedSlots:t._u([{key:"item",fn:function(s){let{item:a}=s;return[e("div",[e(st["a"],{attrs:{small:""}},[t._v(t._s(a.icon))]),t._v("    "+t._s(a.text))],1)]}}]),model:{value:t.queryParams.sort,callback:function(e){t.$set(t.queryParams,"sort",e)},expression:"queryParams.sort"}})],1)],1),e("router-view")],1)])},Ut=[],Ft={data(){return{loading:!1,timer:void 0,sort:"",queryParams:{pageQuery:{page:1,pageSize:3e3}},goodsList:[],filteredItem:[],topicList:[],sortsList:[{icon:pt["E"],text:this.$t("templateModal.new"),key:"gmt_create"},{icon:pt["v"],text:this.$t("templateModal.popular"),key:"like"},{icon:pt["O"],text:this.$t("templateModal.recommend"),key:"step"}],mdiArrowRightThin:pt["i"],mdiArrowLeftThin:pt["h"]}},watch:{$route(){"/market/goods"!=this.$route.path||this.$route.query.sort||this.$route.query.input||(this.queryParams.sort=void 0,this.queryParams.input=void 0),this.queryParams.topic=this.$route.params.topic||null}},created(){this.queryParams.topic=this.$route.params.topic||this.$route.query.topic||null,this.queryParams.sort=this.$route.query.sort,this.queryParams.input=this.$route.query.input,this.getTopic()},methods:{...Object(C["b"])(["setPageItem"]),getTopic(){Object(Ot["s"])().then(t=>{this.topicList=t.data.topics})},seleSort(){this.$router.push({path:this.queryParams.topic?"/market/goods/"+this.queryParams.topic:"/market/goods",query:{sort:this.queryParams.sort||void 0,input:this.queryParams.input||void 0}})},changeTopic(){this.$router.push({path:this.queryParams.topic?"/market/goods/"+this.queryParams.topic:"/market/goods",query:{sort:this.queryParams.sort||void 0,input:this.queryParams.input||void 0}})},searchData(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.$router.push({path:this.queryParams.topic?"/market/goods/"+this.queryParams.topic:"/market/goods",query:{sort:this.queryParams.sort||void 0,input:this.queryParams.input||void 0}})},300)},goodsScroll(t){const e=t.target,s=e.scrollTop,a=e.clientHeight,i=e.scrollHeight;s+a>=i-10&&this.$bus.$emit("myEvent")}}},Bt=Ft,Nt=(s("e9d4"),Object(Tt["a"])(Bt,jt,Ut,!1,null,"7c074052",null)),Wt=Nt.exports,Vt=s("17c6"),Kt=s("8944"),zt=s("dcc6"),Gt=function(){var t=this,e=t._self._c;return e("div",[e(z["a"],{staticStyle:{padding:"20px"},attrs:{color:"#25293c",elevation:"0"}},[e("div",{staticClass:"currentLimitingMain"},[e(dt["b"],{staticStyle:{padding:"0"}},[e(st["a"],[t._v(t._s(t.mdiMagnify))]),t._v(t._s(t.$t("service.source"))+" ("+t._s(t.serviceNum)+"/"+t._s(t.serviceMaxNum)+")")],1),e("el-row",{attrs:{gutter:20}},[t._l(t.cardList,(function(s){return e("el-col",{key:s.id,attrs:{span:8}},[e(z["a"],{staticClass:"currentLimitList",attrs:{color:"#2f3349"},on:{click:function(e){return t.editLimit(s)}}},[e(st["a"],{staticClass:"tagIcon",attrs:{"x-large":""}},[t._v(t._s("ARTICLE"==s.sourceType?t.mdiTextBoxSearchOutline:null))]),e("div",{staticClass:"tagDes"},[e("div",{staticClass:"tagName"},[t._v(" "+t._s(s.alias)+" ")]),e("div",{staticClass:"Desc"},[t._v(" "+t._s(s.desc)+" ")])]),e(rt["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){let{on:i,attrs:l}=a;return[e(st["a"],t._g(t._b({staticStyle:{position:"absolute",top:"5px",right:"5px"},style:{color:"INIT"==s.serviceStatus?"#999":"RUN"==s.serviceStatus?"#409eff":"FAIL"==s.serviceStatus?"#e91e63":"SUCCESS"==s.serviceStatus?"#4caf50":null}},"v-icon",l,!1),i),[t._v(t._s(t.mdiCloudSync))])]}}],null,!0)},[e("span",[t._v(t._s(s.message))])]),e(st["a"],{staticStyle:{position:"absolute",bottom:"5px",right:"5px",color:"#4caf50"}},[t._v(t._s(t.mdiDatabaseArrowUp))]),e("div",{staticStyle:{position:"absolute","text-align":"right",width:"22px",bottom:"5px",right:"30px","font-size":"12px",transform:"scale(0.9)"}},[t._v(" "+t._s(s.resourceNum)+" ")])],1)],1)})),e("el-col",{attrs:{span:8}},[e(mt["a"],{staticStyle:{"z-index":"9990"},attrs:{persistent:"",width:"1100"},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a,attrs:i}=s;return[e(z["a"],t._g(t._b({staticClass:"currentLimitList",attrs:{color:"#2f3349"}},"v-card",i,!1),a),[e(st["a"],{staticStyle:{margin:"0 auto"},attrs:{"x-large":""}},[t._v(t._s(t.mdiPlus))])],1)]}}]),model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[e(z["a"],{staticStyle:{padding:"10px 10px 0 10px"},attrs:{color:"#25293c"}},[e(Lt["a"],{attrs:{color:"#25293c",elevation:"0",dense:""}},[e($t["a"],[t._v(t._s(t.title))]),e(bt["a"]),t.form.id?e(K["a"],{attrs:{"x-small":"",icon:"",fab:"",color:"error"},on:{click:function(e){return t.delService(t.form.id)}}},[e(st["a"],[t._v(t._s(t.mdiDelete))])],1):t._e(),e(K["a"],{attrs:{"x-small":"",icon:"",fab:""},on:{click:t.cancel}},[e(st["a"],[t._v(t._s(t.mdiClose))])],1)],1),e(et["a"],{ref:"forms",staticStyle:{padding:"0 16px"}},[e(lt["a"],[e(tt["a"],[e(Q["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",clearable:"",rules:[e=>!!e||t.$t("service.name")+t.$t("myselfTemplateList.isRequire")],label:t.$t("service.name"),outlined:""},model:{value:t.form.alias,callback:function(e){t.$set(t.form,"alias",e)},expression:"form.alias"}}),e(kt["a"],{attrs:{"persistent-placeholder":"",clearable:"","validate-on-blur":"",rules:[e=>!!e||t.$t("service.desc")+t.$t("myselfTemplateList.isRequire")],label:t.$t("service.desc"),outlined:"",rows:3},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),t.form.id?e(Q["a"],{attrs:{disabled:"","persistent-placeholder":"",clearable:"",label:t.$t("service.message"),outlined:""},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}}):t._e(),t.form.id?e(Q["a"],{attrs:{disabled:"","persistent-placeholder":"",clearable:"",label:t.$t("service.status"),outlined:""},model:{value:t.form.serviceStatus,callback:function(e){t.$set(t.form,"serviceStatus",e)},expression:"form.serviceStatus"}}):t._e()],1),e(ht["a"],{attrs:{vertical:""}}),e(tt["a"],{attrs:{span:6}},[t.form.id?e(Q["a"],{attrs:{"persistent-placeholder":"",disabled:"",label:t.$t("service.id"),outlined:""},model:{value:t.form.serviceID,callback:function(e){t.$set(t.form,"serviceID",e)},expression:"form.serviceID"}}):t._e(),t.form.id?e("iframe",{attrs:{src:t.chatUrl(),frameborder:"0",width:"100%",height:"600"}}):t._e()],1)],1),e("div",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.$t("service.type")))]),e(zt["a"],{attrs:{disabled:!!t.form.id,mandatory:""},model:{value:t.form.sourceType,callback:function(e){t.$set(t.form,"sourceType",e)},expression:"form.sourceType"}},[e("el-row",{attrs:{gutter:20}},t._l(t.sourceTypeList,(function(s){return e("el-col",{key:s.key,attrs:{span:8}},[e(z["a"],{staticClass:"currentLimitList",attrs:{color:"#2f3349",disabled:!s.enable},on:{click:function(e){return t.$set(t.form,"sourceType",s.value)}}},[e(st["a"],{staticClass:"tagIcon",attrs:{"x-large":""}},[t._v(t._s(t.mdiTextBoxSearchOutline))]),e("div",{staticClass:"tagDes"},[e("div",{staticClass:"tagNames"},[t._v(t._s(s.name))]),e("div",{staticClass:"Desc"},[t._v(t._s(s.desc))])]),e("div",{staticStyle:{position:"absolute",top:"5px",right:"0px"}},[e(Kt["a"],{attrs:{value:s.key}})],1),"Article"!=s.name?e(Z["a"],{staticStyle:{position:"absolute",top:"13px",right:"50px"},attrs:{small:""}},[t._v(t._s(t.$t("service.soon")))]):t._e()],1)],1)})),1)],1),e(lt["a"],{attrs:{"no-gutters":""}},[e(tt["a"],[e(Vt["a"],{attrs:{headers:t.headers,items:t.wpList,"items-per-page":10,"item-key":"ID",height:"500","show-select":""},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1),e(ht["a"],{attrs:{vertical:""}}),e(tt["a"],{staticStyle:{"padding-left":"5px"},attrs:{cols:6}},[e("div",{staticClass:"goTable"},[t.form.id?e(Vt["a"],{attrs:{headers:t.selectHeaders,items:t.selection,"items-per-page":10,"item-key":"ID",height:"500"},on:{"click:row":t.onRowClick},scopedSlots:t._u([{key:"item.status",fn:function(s){let{item:a}=s;return[e("span",[t._v(t._s(t.form.serviceStatus))])]}}],null,!1,925630986)}):e(Vt["a"],{attrs:{headers:t.selectHeaders1,items:t.selection,"items-per-page":10,"item-key":"ID",height:"500"},on:{"click:row":t.onRowClick}})],1)])],1)],1),e(dt["a"],[e(bt["a"]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{text:""},on:{click:t.cancel}},[t._v(t._s(t.$t("templateModal.cancel")))]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{color:"primary",text:""},on:{click:t.save}},[t._v(t._s(t.$t("templateModal.save1")))])],1)],1)],1)],1)],2)],1),e(mt["a"],{attrs:{"max-width":"420"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e(z["a"],{staticStyle:{"padding-top":"20px"},attrs:{color:"#25293c"}},[e(dt["b"],{staticClass:"text-h6"},[t._v(" "+t._s(t.$t("templateModal.reconfirm"))+" ")]),e(dt["a"],[e(bt["a"]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{text:""},on:{click:function(e){t.showDialog=!1}}},[t._v(t._s(t.$t("templateModal.cancel")))]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{color:"primary",text:""},on:{click:t.delSave}},[t._v(t._s(t.$t("templateModal.save1")))])],1)],1)],1)],1)],1)},Ht=[],Jt=(s("e2e7"),s("b775"));function Qt(t){return Object(Jt["a"])({url:"/aigc/v1/service/list",method:"post",data:t})}function Yt(t){return Object(Jt["a"])({url:"/aigc/v1/service/sourceType",method:"post",data:t})}function Xt(t){return Object(Jt["a"])({url:"/aigc/v1/service/delete",method:"post",data:t})}function Zt(t){return Object(Jt["a"])({url:"/aigc/v1/service/register",method:"post",data:t})}function te(t){return Object(Jt["a"])({url:"/aigc/v1/service/update",method:"post",data:t})}function ee(t){return Object(Jt["a"])({url:"/aigc/v1/wp/pagePost",method:"post",data:t})}var se={data(){return{open:!1,showDialog:!1,title:"",serviceNum:"",serviceMaxNum:"",cardList:[],selected:!0,form:{},selection:[],sourceTypeList:[],headers:[{text:"post_title",sortable:!1,value:"post_title"}],selectHeaders:[{text:"Select Post_title",sortable:!1,value:"post_title"},{text:"Status",sortable:!1,value:"status"}],selectHeaders1:[{text:"Select Post_title",sortable:!1,value:"post_title"}],wpList:[],id:void 0,mdiMagnify:pt["B"],mdiTextBoxSearchOutline:pt["K"],mdiClose:pt["m"],mdiDelete:pt["s"],mdiPlus:pt["G"],mdiDatabaseArrowUp:pt["r"],mdiCloudSync:pt["n"],mdiInformationOutline:pt["A"]}},created(){this.getList(),this.getsourceType(),this.getListPost()},methods:{chatUrl(){let t;new URL(MOREDEAL_AIGC.chatPath);t="https://www.mdc.ai";return`${t}/wp-content/plugins/moredeal-ai-writer/chat/index.html?search_id=${this.form.serviceID}&&customUrl=${t}`},getList(){Qt().then(t=>{this.serviceNum=t.data.serviceNum,this.serviceMaxNum=t.data.serviceMaxNum,this.cardList=t.data.sourceData})},getListPost(){ee({page:{page:1,size:3e3}}).then(t=>{this.wpList=t.data.list})},delService(t){this.id=t,this.showDialog=!0},getsourceType(){Yt().then(t=>{this.sourceTypeList=t.data})},editLimit(t){this.title="Edit Source",this.open=!0,this.form={...t};let e=t.searchResources.map(t=>t.sourceDesc);this.selection=this.wpList.filter(t=>e.includes(t.post_title))},cancel(){this.title="Add Source",this.$refs.forms.resetValidation(),this.form={},this.open=!1,this.selection=[]},save(){if(this.$refs.forms.validate())if(0==this.selection.length)this.$message({type:"error",message:"There has to be a Resource",offset:52});else{let t={};t={...this.form},t.sourceData=this.selection.map(t=>({sourceID:t.ID,sourceDesc:t.post_title})),this.form.id?te(t).then(t=>{this.getList(),this.$message({type:"success",message:"success",offset:52}),this.cancel()}):Zt(t).then(t=>{t.status&&(this.getList(),this.$message({type:"success",message:"success",offset:52}),this.cancel())})}},delSave(){Xt({id:this.id.toString()}).then(t=>{t.status&&(this.showDialog=!1,this.cancel(),this.$message({type:"success",offset:52,message:"Delete Success"}),this.getList())})},onRowClick(t){window.open(t.post_url)}}},ae=se,ie=(s("03d8"),Object(Tt["a"])(ae,Gt,Ht,!1,null,"0e7a15ea",null)),le=ie.exports,oe={data(){return{api_key:"",totalData:{}}},components:{myselfTemplate:At,templateMark:Wt,service:le},created(){this.setting()},methods:{setting(){Object(Ot["h"])().then(t=>{this.api_key=t.data.api_key})},openUrl(){window.open("https://www.mdc.ai/contact-us/")},handleSave(){Object(Ot["n"])({api_key:this.api_key}).then(t=>{t.status&&this.$message({type:"success",message:"Update Success",offset:52})})},changeTab(t){"/home"==t&&this.$refs.myselfTemplates&&this.$refs.myselfTemplates.getTemplateList()}}},re=oe,ne=(s("5cce"),Object(Tt["a"])(re,Y,X,!1,null,"0496be6d",null)),ce=ne.exports,pe=s("9367"),de=function(){var t=this,e=t._self._c;return e("div",{staticClass:"templateDatas"},[e(z["a"],{attrs:{elevation:"0",loading:t.loading,color:t.$store.state.background}},[e("template",{slot:"progress"},[e(pe["a"],{attrs:{color:"deep-purple",height:"5",indeterminate:""}})],1),e("el-row",{attrs:{justify:"center",gutter:20}},t._l(t.endGoodsList,(function(s){return e("el-col",{key:s.id,staticStyle:{"margin-bottom":"30px"},attrs:{md:6,sm:8,xs:24}},[e(z["a"],{staticClass:"goods",attrs:{outlined:"",color:t.$store.state.card_color}},[e("div",{staticStyle:{height:"130px",overflow:"hidden"}},[e(at["a"],{staticClass:"transformImg",attrs:{height:"130px",src:s.imageUrls[0]},on:{click:function(e){return t.handleDetail(s,s.version,s.tempId)}}})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"title",on:{click:function(e){return t.handleDetail(s,s.version,s.tempId)}}},[e("div",{staticClass:"templateTitle"},[t._v(t._s(s.name))])]),e("div",{staticClass:"templateDesc",on:{click:function(e){return t.handleDetail(s,s.version,s.tempId)}}},[t._v(" "+t._s(s.describe)+" ")]),e("div",{staticClass:"desc"},t._l(s.topics,(function(s,a){return e("span",{key:a,on:{click:function(e){return t.topicsSearch(s)}}},[t._v("#"+t._s(s))])})),0)]),s.free?t._e():e("div",{staticClass:"price"},[t._v("$ "+t._s(s.cost))])])],1)})),1)],2)],1)},ue=[];function me(t){return Object(Jt["a"])({url:"/aigc/v1/template/pageMarketTemplate",method:"post",data:t})}function he(t){return Object(Jt["a"])({url:"/aigc/v1/template/singleMarketTemplate",method:"post",data:t})}function _e(t){return Object(Jt["a"])({url:"/aigc/v1/template/actionMarketTemplate",method:"post",data:t})}function fe(t){return Object(Jt["a"])({url:"/aigc/v1/templateDownload/install",method:"post",data:t})}function ge(t){return Object(Jt["a"])({url:"/aigc/v1/template/checkDownloadMarketTemplate",method:"post",data:t})}var ve={data(){return{loading:!1,sort:"",queryParams:{},page:1,endGoodsList:[],goodsList:[],filteredItem:[],mdiEye:pt["w"],mdiThumbUp:pt["L"]}},watch:{$route(){this.queryParams.topic=this.$route.params.topic,this.queryParams.sort=this.$route.query.sort,this.queryParams.input=this.$route.query.input,this.filteredItems()}},created(){this.$bus.$on("myEvent",()=>{this.goodsScroll()}),this.queryParams.topic=this.$route.params.topic,this.queryParams.sort=this.$route.query.sort,this.queryParams.input=this.$route.query.input,0==this.$store.state.templateList.length?this.getList():(this.goodsList=this.$store.state.templateList,this.filteredItems()),window.addEventListener("beforeunload",this.handleBeforeUnload)},methods:{...Object(C["b"])(["setTemplateTotal","getTemplateList"]),handleBeforeUnload(){this.getTemplateList([]),this.setTemplateTotal(0)},getList(){this.loading=!0,me({pageQuery:{page:1,pageSize:3e3}}).then(t=>{this.loading=!1,t.status?(this.goodsList=t.data.list,this.goodsList.sort((t,e)=>e.viewCount-t.viewCount),this.getTemplateList(this.goodsList),this.filteredItems(),this.setTemplateTotal(t.data.list.length)):this.$message({type:"error",message:t.error,offset:52})})},filteredItems(){if(this.filteredItem=[],this.filteredItem=this.goodsList.filter(t=>{let e=!0,s=!0;return this.queryParams.input&&(e=t.name.toLowerCase().includes(this.queryParams.input.toLowerCase())),this.queryParams.topic&&(s=t.topics.includes(this.queryParams.topic)),e&&s}),this.queryParams.sort&&"gmt_create"==this.queryParams.sort&&this.filteredItem.sort((t,e)=>new Date(e.gmtCreate).getTime()-new Date(t.gmtCreate).getTime()),this.queryParams.sort&&"like"==this.queryParams.sort&&this.filteredItem.sort((t,e)=>e.viewCount-t.viewCount),this.queryParams.sort&&"step"==this.queryParams.sort){const t=this.filteredItem.filter(t=>t.tags.includes("recommend")),e=this.filteredItem.filter(t=>!t.tags.includes("recommend"));this.filteredItem=[...t,...e]}this.setTemplateTotal(this.filteredItem.length),document.getElementById("container")&&(document.getElementById("container").scrollTop=0),this.page=1,this.endGoodsList=this.filteredItem.slice(20*(this.page-1),20*(this.page-1)+20)},topicsSearch(t){this.$router.push({path:"/market/goods/"+t,query:{sort:this.queryParams.sort||void 0,input:this.queryParams.input||void 0}})},handleDetail(t,e,s){this.$router.push({name:"detail",params:{topic:t.topics[0]},query:{id:t.id,version:e,tempId:s,topic:t.topics[0]}})},goodsScroll(){Math.ceil(this.filteredItem.length/20)>this.page&&(this.page++,this.endGoodsList=[...this.endGoodsList,...this.filteredItem.slice(20*(this.page-1),20*(this.page-1)+20)])}}},ye=ve,be=(s("4d9b"),Object(Tt["a"])(ye,de,ue,!1,null,"36d71ba8",null)),xe=be.exports,ke=s("024f"),Le=function(){var t=this,e=t._self._c;return e(z["a"],{attrs:{elevation:0,color:t.$store.state.background}},[e(ke["a"],{staticStyle:{padding:"18px 0"},attrs:{items:t.breadcrumbsList,large:""}}),e("el-skeleton",{attrs:{loading:t.loading,animated:""}},[e("template",{slot:"template"},[e("div",{staticClass:"banner"},[e("div",{staticClass:"leftTitle"},[e("div",{staticClass:"titleIcon"},[e("el-skeleton-item",{staticStyle:{width:"60px",height:"60px"},attrs:{variant:"image"}})],1),e("div",{staticClass:"contentTitle"},[e("div",{staticClass:"titles"},[e("el-skeleton-item",{staticStyle:{width:"200px"},attrs:{variant:"h1"}})],1),e("el-skeleton-item",{staticStyle:{width:"200px"},attrs:{variant:"text"}})],1)])]),e("div",{staticClass:"operation"},[e("el-skeleton-item",{staticStyle:{width:"100px"},attrs:{variant:"h1"}})],1),e(ht["a"],{staticStyle:{"margin-bottom":"10px"}}),e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:14}},[e("el-skeleton-item",{staticStyle:{height:"600px"},attrs:{variant:"text"}}),e(ht["a"],{staticStyle:{margin:"10px 0"}}),e("div",{staticClass:"footer"},[e("div",{staticClass:"overview"},[e("div",{staticClass:"content"},[e("el-skeleton-item",{staticStyle:{height:"72px"},attrs:{variant:"text"}})],1)]),e("div",{staticClass:"information"},[e("el-skeleton-item",{attrs:{variant:"text"}})],1)])],1),e("el-col",{attrs:{span:10}},[e("el-skeleton-item",{staticStyle:{height:"800px"},attrs:{variant:"text"}})],1)],1)],1),[e("div",{staticClass:"banner"},[e("div",{staticClass:"downTemplate"},[e("div",{staticClass:"leftTitle"},[t.form.topics?e("div",{staticClass:"titleIcon"},[e(st["a"],{staticStyle:{width:"60px",height:"60px"},attrs:{"x-large":""}},[t._v(" "+t._s("Other"==t.form.topics[0]?t.mdiCubeOutline:"Email"==t.form.topics[0]?t.mdiEmail:"Blog"==t.form.topics[0]?t.mdiPost:"Writing"==t.form.topics[0]?t.mdiAlphabetLatin:"Social Media"==t.form.topics[0]?t.mdiMultimedia:"Marketing"==t.form.topics[0]?t.mdiShopping:"Business"==t.form.topics[0]?t.mdiCreditCard:"Fun"==t.form.topics[0]?t.mdiAirballoon:"Role Play"==t.form.topics[0]?t.mdiPlay:"Amazon"==t.form.topics[0]?t.mdiShoppingOutline:"Website"==t.form.topics[0]?t.mdiAlphabetLatin:"Ads"==t.form.topics[0]?t.mdiAdvertisements:"Resume"==t.form.topics[0]?t.mdiAccount:t.mdiFileTableOutline))])],1):t._e(),e("div",{staticClass:"contentTitle"},[e("div",{staticClass:"titles"},[t._v(t._s(t.form.name))]),t._l(t.form.topics,(function(s){return e("span",{key:s,staticClass:"topicStyle topicStatic"},[t._v("#"+t._s(s))])})),t._l(t.form.tags,(function(s,a){return e(Z["a"],{key:a,staticClass:"topicStatic",attrs:{small:"",outlined:""}},[t._v(" "+t._s(s)+" "),e(st["a"],{attrs:{small:"",right:""}},[t._v(t._s(t.mdiCheckCircle))])],1)})),e("div",{staticClass:"operation"},[e(st["a"],[t._v(t._s(t.mdiAccount))]),e(Z["a"],{staticStyle:{margin:"0 10px 0 5px"},attrs:{small:""}},[t._v(t._s(t.form.creator))]),e(st["a"],[t._v(t._s(t.mdiEye))]),e("span",{staticClass:"count"},[t._v(t._s(t.form.viewCount))]),e(st["a"],[t._v(t._s(t.mdiTrayArrowDown))]),e("span",{staticClass:"count"},[t._v(t._s(t.form.downloadCount))]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.likeLoading,expression:"likeLoading"}],staticClass:"like",attrs:{"element-loading-spinner":"el-icon-loading"}},[e("transition",{attrs:{name:"zoom",mode:"out-in"}},[t.flagLike?e(st["a"],{key:"like",on:{click:t.giveLike}},[t._v(t._s(t.mdiThumbUpOutline))]):e(st["a"],{key:"unlike",on:{click:t.giveLike}},[t._v(t._s(t.mdiThumbUpOutline))])],1)],1),e("span",{staticClass:"count"},[t._v(t._s(t.form.likeCount))])],1)],2)]),e(K["a"],{attrs:{color:"primary",loading:t.downLoading,disabled:1==t.checkDown},on:{click:t.downFree}},[t._v(t._s(0==t.checkDown?t.$t("tabs.template_download"):1==t.checkDown?t.$t("tabs.collection"):3==t.checkDown?t.$t("tabs.upgrade"):null))])],1)]),e(ht["a"],{staticStyle:{"margin-bottom":"10px"}}),e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:14,xs:24}},[e("executeStep",{ref:"executeSteps",attrs:{loading:t.loading,totalData:t.totalData,foundationList:t.foundationList,stepList:t.stepList}},[e("div",{staticStyle:{"font-size":"16px","font-weight":"500",padding:"10px 10px 20px 10px"}},[t._v(" "+t._s(t.form.describe)+" ")])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("span",{staticStyle:{"margin-right":"20px"}},[t._v(t._s(t.$t("templateModal.world"))+":"+t._s(t.form.word))]),t._v(t._s(t.$t("templateModal.step"))+":"+t._s(t.form.step)+" ")]),e(ht["a"],{staticStyle:{margin:"10px 0"}}),e("div",{staticClass:"footer"},[e("div",{staticClass:"information"},[t._v(" "+t._s(t.$t("templateModal.version"))+":"+t._s(t.form.version)+" "),e("el-divider",{attrs:{direction:"vertical"}}),t._v(" "+t._s(t.$t("templateModal.plugLevel"))+":"+t._s(t.form.pluginLevel)+" "),e("el-divider",{attrs:{direction:"vertical"}}),t._v(" "+t._s(t.$t("templateModal.plugVersion"))+":"+t._s(t.form.pluginVersion)+" "),e("el-divider",{attrs:{direction:"vertical"}}),t._v(" "+t._s(t.$t("templateModal.createTime"))+":"+t._s(t.form.gmtCreate)+" ")],1)])],1),e("el-col",{attrs:{span:10,xs:24}},[e("div",{staticClass:"prompt-details"},[e("div",[e("div",{staticStyle:{position:"relative"}},[e(K["a"],{staticStyle:{position:"absolute",top:"0px",right:"0px","z-index":"9999"},attrs:{plain:"",fab:"",text:"",color:"primary","x-small":""},on:{click:function(e){return t.requestCopy(t.form.promptDetails)}}},[e(st["a"],{attrs:{small:""}},[t._v(t._s(t.mdiContentCopy))])],1),e("mavon-editor",{staticStyle:{height:"100%",color:"#fff !important"},attrs:{subfield:!1,toolbarsFlag:!1,previewBackground:t.$store.state.card_color,defaultOpen:"preview"},model:{value:t.form.promptDetails,callback:function(e){t.$set(t.form,"promptDetails",e)},expression:"form.promptDetails"}})],1)])])])],1)]],2)],1)},$e=[],Se=function(){var t=this,e=t._self._c;return e(z["a"],{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{elevation:"1",color:t.$store.state.background}},[t._t("default"),1!=t.stepList.length?e("div",{staticClass:"AllExecel"},[e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{small:"",color:"primary"},on:{click:t.allExecute}},[e(st["a"],[t._v(t._s(t.mdiMotionPlay))]),t._v(t._s(t.$t("templateModal.allExecute")))],1),e(rt["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a,attrs:i}=s;return[e("i",t._g(t._b({staticClass:"el-icon-warning-outline"},"i",i,!1),a))]}}],null,!1,1117549716)},[e("span",[t._v(t._s(t.$t("templateModal.allStepTips")))])])],1):t._e(),e(et["a"],{ref:"leftFormVar",staticStyle:{padding:"0 10px"}},[e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:12,type:"flex"}},t._l(t.foundationList,(function(s,a){return s.is_show?e("el-col",{key:s.key+a,attrs:{md:8,sm:12,xs:24}},[e("iShowInput",{attrs:{form:s}})],1):t._e()})),1)],1),t._l(t.stepList,(function(s,a){return e(z["a"],{directives:[{name:"loading",rawName:"v-loading",value:t.loadings[a],expression:"loadings[index]"}],key:a,staticClass:"pad10",staticStyle:{"text-transform":"none",padding:"0 10px"},attrs:{elevation:0,color:t.$store.state.background}},["button"!=s.stepModule.response.style?e("div",{staticClass:"title"},[t.stepList.length>1?e("div",[e("div",{staticClass:"stepTitle"},[t._v(" "+t._s(s.label)),e("img",{staticStyle:{width:"20px",height:"20px","vertical-align":"middle","margin-left":"5px"},style:{filter:t.$vuetify.theme.dark?"brightness(0) invert(1)":"brightness(0) invert(0)"},attrs:{src:s.stepModule.icon}})]),e("div",{staticClass:"stepDesc"},[t._v(t._s(s.desc))])]):t._e(),e("div"),e("div",{staticStyle:{"white-space":"nowrap",display:"flex","align-items":"center"}},[e("i",{class:"success"==t.results[a]?"el-icon-success tipsStep":"error"==t.results[a]?"el-icon-error tipsStep":"",style:{color:"success"==t.results[a]?"#67c23a":"#f56c6c",cursor:"auto"}}),e(rt["a"],{staticStyle:{"z-index":"9990"},attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a,attrs:i}=s;return[e("i",t._g(t._b({staticClass:"el-icon-warning-outline tipsStep"},"i",i,!1),a))]}}],null,!0)},[e("span",[t._v(t._s(t.$t("templateModal.stepTips")))])]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{color:"primary",small:"",disabled:0!=a&&"success"!=t.results[a-1]&&!t.stepList[a-1].stepModule.response.value||0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleExecute(s.field,a)}}},[e("i",{staticClass:"el-icon-video-play"}),t._v(" "+t._s(s.buttonLabel))])],1)]):t._e(),"button"!=s.stepModule.response.style?e(et["a"],{ref:"rightForm"+a,refInFor:!0},[e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:12,type:"flex"}},[t._l(s.stepModule.variables,(function(s,a){return[s.is_show?e("el-col",{key:s.key+a+"prompt",attrs:{md:"prompt"==s.field?24:"text"!=s.style?8:12,sm:12,xs:24}},[e("iShowInput",{attrs:{form:s}})],1):t._e()]})),t._l(s.variables,(function(s,a){return[s.is_show?e("el-col",{key:s.key+a+"!prompt",attrs:{md:"text"!=s.style?8:12,sm:12,xs:24}},[e("iShowInput",{attrs:{form:s}})],1):t._e()]}))],2)],1):t._e(),e("div",[s.stepModule.response.isShow&&"input"==s.stepModule.response.style?e("div",{staticClass:"v_text",on:{mouseover:function(e){return t.showCopy(a)},mouseleave:function(e){return t.hideCopy(a)}}},[e(Q["a"],{attrs:{clearable:"",outlined:""},model:{value:s.stepModule.response.value,callback:function(e){t.$set(s.stepModule.response,"value",e)},expression:"item.stepModule.response.value"}}),s.stepModule.response.value&&t.copyList[a]?e(K["a"],{staticClass:"copy_text",attrs:{plain:"",fab:"",text:"",color:"primary","x-small":""},on:{click:function(e){return t.requestCopy(s.stepModule.response.value)}}},[e(st["a"],{attrs:{small:""}},[t._v(t._s(t.mdiContentCopy))])],1):t._e()],1):t._e(),s.stepModule.response.isShow&&"text"==s.stepModule.response.style?e("div",{staticClass:"v_text",on:{mouseover:function(e){return t.showCopy(a)},mouseleave:function(e){return t.hideCopy(a)}}},[e(kt["a"],{attrs:{rows:10,outlined:""},model:{value:s.stepModule.response.value,callback:function(e){t.$set(s.stepModule.response,"value",e)},expression:"item.stepModule.response.value"}}),s.stepModule.response.value&&t.copyList[a]?e(K["a"],{staticClass:"copy_text",attrs:{plain:"",fab:"",text:"",color:"primary","x-small":""},on:{click:function(e){return t.requestCopy(s.stepModule.response.value)}}},[e(st["a"],{attrs:{small:""}},[t._v(t._s(t.mdiContentCopy))])],1):t._e()],1):t._e(),s.stepModule.response.isShow&&"img"==s.stepModule.response.style?e("div",[null==s.stepModule.response.value||0==s.stepModule.response.value.length?e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1):t._e(),s.stepModule.response.value&&0!=s.stepModule.response.value.length?e("div",t._l(s.stepModule.response.value,(function(t,s){return e("el-image",{key:s,staticStyle:{width:"200px",height:"200px","margin-right":"7px"},attrs:{"preview-src-list":[t.url],src:t.url,fit:"cover"}})})),1):t._e()]):t._e(),s.stepModule.response.isShow&&"base64"==s.stepModule.response.style?e("div",[null==s.stepModule.response.value||0==s.stepModule.response.value.length?e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1):t._e(),s.stepModule.response.value&&0!=s.stepModule.response.value.length?e("div",t._l(s.stepModule.response.value,(function(t,s){return e("el-image",{key:s,staticStyle:{width:"200px",height:"200px","margin-right":"7px"},attrs:{"preview-src-list":["data:image/png;base64,"+t.base64],src:"data:image/png;base64,"+t.base64,fit:"cover"}})})),1):t._e()]):t._e(),s.stepModule.response.isShow&&"product"==s.stepModule.response.style&&"array"==s.stepModule.response.type?e("div",[e("div",{staticClass:"product"},[e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{gutter:12,type:"flex"}},t._l(s.stepModule.response.value,(function(s){return e("el-col",{key:s.code,attrs:{lg:6,md:8,sm:12,xs:24}},[e(z["a"],{staticClass:"products",on:{click:function(e){return t.getProductData(s,a)}}},[e("div",{staticClass:"images"},[e("el-image",{staticStyle:{width:"50px",height:"50px","border-radius":"5px"},attrs:{src:s.pic_url,fit:"cover"}})],1),e("div",{staticClass:"productDesc"},[e("div",{staticClass:"productTit"},[t._v(t._s(s.title))]),e("div",{staticClass:"productPrice"},[e("span",{staticStyle:{"font-size":"12px"}},[t._v("$")]),t._v(t._s(s.price)+" ")])])])],1)})),1)],1)]):t._e(),"button"==s.stepModule.response.style&&"text"==s.stepModule.response.type?e("el-button",{staticStyle:{width:"100%",height:"60px","font-size":"20px",display:"block",margin:"0 auto","margin-bottom":"20px"},attrs:{type:"primary",disabled:0!=a&&"success"!=t.results[a-1]&&0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleExecute(s.field,a,!1,!0)}}},[t._v(t._s(s.label))]):t._e(),"button"==s.stepModule.response.style&&"redirect"==s.stepModule.response.type?e("el-button",{staticStyle:{width:"100%",height:"60px",display:"block",margin:"0 auto","margin-bottom":"20px"},attrs:{type:"primary",disabled:0!=a&&"success"!=t.results[a-1]&&0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleExecute(s.field,a,!1,!0,!0)}}},[t._v(t._s(s.label))]):t._e(),"button"==s.stepModule.response.style&&"copy"==s.stepModule.response.type?e("el-button",{staticStyle:{width:"100%",height:"60px","font-size":"20px",display:"block",margin:"0 auto","margin-bottom":"20px"},attrs:{type:"primary",disabled:0!=a&&"success"!=t.results[a-1]&&0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleCopy(a)}}},[t._v(t._s(s.label))]):t._e()],1)],1)}))],2)},we=[],Ce=s("75b3"),Me=Ce["a"],Te=(s("15c1"),Object(Tt["a"])(Me,Se,we,!1,null,"7ef63f6a",null)),De=Te.exports,Pe={data(){return{loading:!1,likeLoading:!1,downLoading:!1,flagLike:!1,checkDown:0,form:{},queryParams:{},totalData:{},stepList:[],foundationList:[],breadcrumbsList:[{text:this.$t("templateModal.all"),href:"#/market/goods"},{text:"",disabled:!0}],mdiArrowLeft:pt["g"],mdiCheckCircle:pt["j"],mdiAccount:pt["a"],mdiEye:pt["w"],mdiThumbUpOutline:pt["M"],mdiTrayArrowDown:pt["N"],mdiCubeOutline:pt["q"],mdiEmail:pt["u"],mdiPost:pt["H"],mdiAlphabetLatin:pt["f"],mdiMultimedia:pt["D"],mdiShopping:pt["I"],mdiCreditCard:pt["p"],mdiAirballoon:pt["e"],mdiPlay:pt["F"],mdiShoppingOutline:pt["J"],mdiAdvertisements:pt["d"],mdiFileTableOutline:pt["x"],mdiContentCopy:pt["o"]}},components:{executeStep:De},created(){this.getDetail(this.$route.query.id,this.$route.query.tempId),this.checkDownload(this.$route.query.tempId,this.$route.query.version)},methods:{...Object(C["b"])(["getFromRouter"]),getDetail(t,e){this.loading=!0,he({id:t,templateId:e}).then(t=>{this.loading=!1,t.status&&(this.form=t.data,this.breadcrumbsList[1].text=this.form.topics[0],this.totalData=t.data,this.stepList=t.data.info.steps,this.foundationList=t.data.info.variables)})},giveLike(){this.likeLoading=!0,_e({templateId:this.form.tempId,operate:"like"}).then(t=>{this.likeLoading=!1,t.status&&(this.flagLike=!this.flagLike,this.form.likeCount=t.data.val)})},checkDownload(t,e){ge({templateId:t,version:e}).then(t=>{this.downLoading=!1,t.status&&(this.checkDown=t.data.status)})},downFree(){this.downLoading=!0,fe({template_id:this.form.tempId,version:this.form.version}).then(t=>{t.status?200==t.code?(this.checkDownload(this.form.tempId,this.form.version),this.$message({type:"success",message:t.data,offset:52})):302==t.code&&(this.downLoading=!1,window.open(t.data)):this.downLoading=!1})},requestCopy(t){this.$copyText(t).then(t=>{this.$message({type:"success",message:"Copy Success",offset:52})})}}},Oe=Pe,Ee=(s("0c32"),Object(Tt["a"])(Oe,Le,$e,!1,null,"a6a75d32",null)),qe=Ee.exports,Ie=function(){var t=this,e=t._self._c;return e(V["a"],[e("currentLimiting")],1)},Ae=[],Re=s("0ccf"),je=s("17e0d"),Ue=function(){var t=this,e=t._self._c;return e(z["a"],{staticStyle:{padding:"20px"},attrs:{color:"#25293c"}},[e("div",{staticClass:"currentLimitingMain"},[e(je["a"],{attrs:{inset:"",loading:t.switchLoading,label:t.$t("limit.enableLimits")+"("+t.total+"/"+t.available_total+")"},on:{change:t.switchChange},model:{value:t.LimitFlag,callback:function(e){t.LimitFlag=e},expression:"LimitFlag"}}),e("el-row",{attrs:{gutter:20}},[t._l(t.useLimitList,(function(s){return e("el-col",{key:s.id,attrs:{span:8}},[e(z["a"],{staticClass:"currentLimitList",attrs:{color:"#2f3349",disabled:!t.LimitFlag},on:{click:function(e){return t.editLimit(s)}}},["Guests"==s.scope?e(st["a"],{staticClass:"tagIcon",attrs:{"x-large":""}},[t._v(t._s(t.mdiAccountDetailsOutline))]):e(st["a"],{staticClass:"tagIcon",attrs:{"x-large":""}},[t._v(t._s(t.mdiAccountOutline))]),e("div",{staticClass:"tagDes"},[e("div",{staticClass:"tagName"},[t._v(t._s(s.name))]),e("div",{staticClass:"Desc"},[t._v(t._s(s.type))])]),e(st["a"],{staticClass:"delIcon",attrs:{small:""},on:{click:function(e){return e.stopPropagation(),t.delLimit(s.id)}}},[t._v(t._s(t.mdiDelete))])],1)],1)})),e("el-col",{attrs:{span:8}},[e(z["a"],{staticClass:"currentLimitList",attrs:{color:"#2f3349",disabled:!t.LimitFlag},on:{click:t.addLimit}},[e(st["a"],{staticStyle:{margin:"0 auto"},attrs:{"x-large":""}},[t._v(t._s(t.mdiPlus))])],1)],1)],2),e(mt["a"],{staticStyle:{"z-index":"9990"},attrs:{persistent:"",width:"1000"},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[e(z["a"],{attrs:{color:"#25293c"}},[e(Lt["a"],{attrs:{color:"#25293c",elevation:"0",dense:""}},[e($t["a"],[t._v(t._s(t.title))]),e(bt["a"]),e(K["a"],{attrs:{"x-small":"",icon:"",fab:""},on:{click:t.cancel}},[e(st["a"],[t._v(t._s(t.mdiClose))])],1)],1),e(et["a"],{ref:"forms",staticStyle:{padding:"0 16px"}},[e("el-row",{attrs:{gutter:12}},[e("el-col",{attrs:{span:8}},[e(Q["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",clearable:"",rules:[e=>!!e||t.$t("limit.limitName")+t.$t("myselfTemplateList.isRequire")],label:t.$t("limit.limitName"),outlined:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-col",{attrs:{span:8}},[e(ot["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("limit.limitName")+t.$t("myselfTemplateList.isRequire")],items:["User","Guests"],label:t.$t("limit.limitName"),clearable:"",outlined:""},model:{value:t.form.scope,callback:function(e){t.$set(t.form,"scope",e)},expression:"form.scope"}})],1),e("el-col",{attrs:{span:8}},[e(ot["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("limit.limitName")+t.$t("myselfTemplateList.isRequire")],items:["Token"],label:t.$t("limit.limitName"),clearable:"",outlined:""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),e("el-col",{attrs:{span:8}},[e(Q["a"],{attrs:{"persistent-placeholder":"",oninput:"value=value.replace(/[^0-9.]/g,'')",min:"0","validate-on-blur":"",clearable:"",rules:[e=>!!e||t.$t("limit.limits")+t.$t("myselfTemplateList.isRequire")],label:t.$t("limit.limits"),outlined:""},model:{value:t.form.limits,callback:function(e){t.$set(t.form,"limits",e)},expression:"form.limits"}})],1),e("el-col",{attrs:{span:8}},[e(ot["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("limit.timeFrame")+t.$t("myselfTemplateList.isRequire")],items:["Day","Week","Month"],label:t.$t("limit.timeFrame"),clearable:"",outlined:""},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1),e("el-col",{attrs:{span:8}},[e(Q["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",clearable:"",rules:[e=>!!e||t.$t("limit.limitMessage")+t.$t("myselfTemplateList.isRequire")],label:t.$t("limit.limitMessage"),outlined:""},model:{value:t.form.tips,callback:function(e){t.$set(t.form,"tips",e)},expression:"form.tips"}})],1),"Guests"!=t.form.scope?e("el-col",{attrs:{span:8}},[e(ot["a"],{attrs:{"persistent-placeholder":"",chips:"",multiple:"",items:t.specify_usersList,"item-text":"wpUserName","item-value":"wpUserId",label:t.$t("limit.specifyUser"),clearable:"",outlined:""},model:{value:t.form.specify_users,callback:function(e){t.$set(t.form,"specify_users",e)},expression:"form.specify_users"}})],1):t._e(),"Guests"!=t.form.scope?e("el-col",{attrs:{span:8}},[e(ot["a"],{attrs:{"persistent-placeholder":"",chips:"",multiple:"",items:t.ignore_usersList,"item-text":"wpUserName","item-value":"wpUserId",label:t.$t("limit.ignoreUser"),clearable:"",outlined:""},model:{value:t.form.ignore_users,callback:function(e){t.$set(t.form,"ignore_users",e)},expression:"form.ignore_users"}})],1):t._e()],1)],1),e(ht["a"]),e(dt["a"],[e(bt["a"]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{text:""},on:{click:t.cancel}},[t._v(t._s(t.$t("templateModal.cancel")))]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{color:"primary",text:""},on:{click:t.save}},[t._v(t._s(t.$t("templateModal.save1")))])],1)],1)],1),e(mt["a"],{attrs:{"max-width":"410"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e(z["a"],{staticStyle:{"padding-top":"20px"},attrs:{color:"#25293c"}},[e(dt["b"],{staticClass:"text-h6"},[t._v(" "+t._s(t.$t("templateModal.reconfirm"))+" ")]),e(dt["a"],[e(bt["a"]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{text:""},on:{click:function(e){t.showDialog=!1}}},[t._v(t._s(t.$t("templateModal.cancel")))]),e(K["a"],{staticStyle:{"text-transform":"none"},attrs:{color:"primary",text:""},on:{click:t.del}},[t._v(t._s(t.$t("templateModal.save1")))])],1)],1)],1),e(ht["a"],{staticStyle:{margin:"30px 0"}}),e(z["a"],{staticClass:"daySelf",attrs:{color:"#2f3349",elevation:"0"}},[e("div",{staticClass:"dayContent"},[e("div",[e("div",[t._v(t._s(t.$t("limit.totalToken")))]),e("div",[t._v(t._s(t.logDayData.total_token_usage))])]),e("div",[e("div",[t._v(t._s(t.$t("limit.requestCount")))]),e("div",[t._v(t._s(t.logDayData.request_count))])]),e("div",[e("div",[t._v(t._s(t.$t("limit.userCount")))]),e("div",[t._v(t._s(t.logDayData.user_count))])])])]),e("el-row",{attrs:{gutter:12}},[e("el-col",{attrs:{span:6}},[e(Q["a"],{attrs:{"persistent-placeholder":"",clearable:"",label:t.$t("limit.name"),outlined:""},model:{value:t.queryParams.template_name,callback:function(e){t.$set(t.queryParams,"template_name",e)},expression:"queryParams.template_name"}})],1),e("el-col",{attrs:{span:6}},[e(Q["a"],{attrs:{"persistent-placeholder":"",clearable:"",label:t.$t("limit.user"),outlined:""},model:{value:t.queryParams.user_name,callback:function(e){t.$set(t.queryParams,"user_name",e)},expression:"queryParams.user_name"}})],1),e("el-col",{attrs:{span:6}},[e(yt["a"],{ref:"createTime",attrs:{"close-on-content-click":!1,"return-value":t.queryParams.start_time,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){return t.$set(t.queryParams,"start_time",e)},"update:return-value":function(e){return t.$set(t.queryParams,"start_time",e)}},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a,attrs:i}=s;return[e(Q["a"],t._g(t._b({attrs:{"persistent-placeholder":"",label:t.$t("limit.time"),readonly:"",clearable:"",outlined:""},model:{value:t.queryParams.start_time,callback:function(e){t.$set(t.queryParams,"start_time",e)},expression:"queryParams.start_time"}},"v-text-field",i,!1),a))]}}]),model:{value:t.createTime,callback:function(e){t.createTime=e},expression:"createTime"}},[e(Re["a"],{attrs:{color:"primary",range:!0,multiple:!1,"no-title":"",max:t.maxTime},on:{input:t.handleRangeChange},model:{value:t.queryParams.start_time,callback:function(e){t.$set(t.queryParams,"start_time",e)},expression:"queryParams.start_time"}},[e(bt["a"]),e(K["a"],{attrs:{text:"",color:"primary"},on:{click:function(e){t.createTime=!1}}},[t._v(" "+t._s(t.$t("limit.cancel"))+" ")]),e(K["a"],{attrs:{text:"",color:"primary"},on:{click:t.saveTime}},[t._v(" "+t._s(t.$t("limit.ok"))+" ")])],1)],1)],1),e("el-col",{attrs:{span:6}},[e(K["a"],{staticStyle:{"text-transform":"none","margin-top":"10px"},attrs:{color:"primary"},on:{click:t.searchLimit}},[t._v(t._s(t.$t("limit.search")))])],1)],1),e(Vt["a"],{attrs:{"hide-default-footer":"",grow:"","server-items-length":2,headers:t.headers,"items-per-page":20,items:t.LimitList,loading:t.loading},on:{"update:options":t.updateOptions},scopedSlots:t._u([{key:"item.request",fn:function(s){let{item:a}=s;return[e("el-tooltip",{attrs:{"visible-arrow":!1,placement:"left"}},[e("div",{staticStyle:{width:"800px","font-size":"14px"},attrs:{slot:"content"},slot:"content"},[e("div",[e("div",{staticStyle:{"font-size":"24px"}},[t._v("request "),a.request?e("i",{staticClass:"el-icon-document-copy",staticStyle:{"font-size":"14px",cursor:"pointer"},on:{click:function(e){return t.copyContent(a.request,!0)}}}):t._e()]),t._v(" "+t._s(a.request)+" ")]),e("br"),e("br"),e("div",[e("div",{staticStyle:{"font-size":"24px"}},[t._v("response "),a.response&&0!=a.response.length?e("i",{staticClass:"el-icon-document-copy",staticStyle:{"font-size":"14px",cursor:"pointer"},on:{click:function(e){return t.copyContent(a.response,!1)}}}):t._e()]),t._l(a.response,(function(s,a){return e("div",{key:a},[t._v(t._s(s))])}))],2)]),e(st["a"],[t._v(t._s(t.mdiHelpCircleOutline))])],1)]}},{key:"item.success",fn:function(s){let{item:a}=s;return[e("div",[t._v(t._s(a.success?"true":"false"))])]}}])}),t.tableTotal>=20?e(it["a"],{staticStyle:{"margin-top":"20px"},attrs:{color:"primary",length:Math.ceil(t.tableTotal/t.queryParams.limit),"total-visible":7},on:{input:t.changePagination},model:{value:t.queryParams.current,callback:function(e){t.$set(t.queryParams,"current",e)},expression:"queryParams.current"}}):t._e()],1)])},Fe=[];function Be(t){return Object(Jt["a"])({url:"/aigc/v1/log/limitPage",method:"post",data:t})}function Ne(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/create",method:"post",data:t})}function We(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/detail",method:"get",params:t})}function Ve(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/page",method:"post",data:t})}function Ke(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/modify",method:"post",data:t})}function ze(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/delete",method:"post",data:t})}function Ge(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/getOption",method:"get",data:t})}function He(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/modifyOption",method:"post",data:t})}function Je(t){return Object(Jt["a"])({url:"/aigc/v1/useLimit/getAccounts",method:"get",params:t})}function Qe(t){return Object(Jt["a"])({url:"/aigc/v1/log/daysum",method:"post",data:t})}var Ye={data(){return{queryParams:{current:1,limit:20},open:!1,showDialog:!1,form:{},loading:!1,title:"",useLimitList:[],specify_usersList:[],ignore_usersList:[],LimitList:[],createTime:!1,maxTime:(new Date).toISOString().substr(0,10),endTime:!1,logDayData:{},headers:[{text:this.$t("limit.scene"),sortable:!1,value:"scene"},{text:this.$t("limit.name"),sortable:!1,value:"template_name"},{text:this.$t("limit.user"),sortable:!1,value:"user"},{text:this.$t("limit.userType"),sortable:!1,value:"user_type"},{text:this.$t("limit.tokenUsage"),value:"token_usage"},{text:"IP",sortable:!1,value:"ip_address"},{text:this.$t("limit.elapsedTime")+"(s)",value:"diff_time"},{text:this.$t("limit.success"),sortable:!1,value:"success"},{text:this.$t("limit.prompt"),sortable:!1,value:"request"},{text:this.$t("limit.time"),sortable:!1,value:"start_time"}],id:void 0,LimitFlag:!1,switchLoading:!1,total:0,tableTotal:0,available_total:0,mdiClose:pt["m"],mdiDelete:pt["s"],mdiAccountDetailsOutline:pt["b"],mdiAccountOutline:pt["c"],mdiPlus:pt["G"],mdiHelpCircleOutline:pt["z"]}},created(){const t=new Date,e=new Date;e.setDate(t.getDate()-6);let s=t.toLocaleString().split(" ")[0].replace(/\//g,"-"),a=e.toLocaleString().split(" ")[0].replace(/\//g,"-");this.queryParams.start_time=[a,s],this.getuseLimit(),this.getStatus(),this.getLogDay()},methods:{getList(){this.loading=!0;let t=JSON.parse(JSON.stringify(this.queryParams));t.start_time&&0!=t.start_time.length&&(t.start_time[0]=t.start_time[0]+" 00:00:00",t.start_time[1]=t.start_time[1]+" 23:59:59"),Be(t).then(t=>{this.loading=!1,this.LimitList=t.data.list,this.tableTotal=t.data.total})},getLogDay(){let t=this.queryParams.start_time&&0!=this.queryParams.start_time.length?{start_time:[this.queryParams.start_time[0]+" 00:00:00",this.queryParams.start_time[1]+" 23:59:59"]}:void 0;Qe(t).then(t=>{this.logDayData=t.data})},getAccount(){Je().then(t=>{this.specify_usersList=t.data,this.ignore_usersList=t.data})},getStatus(){Ge().then(t=>{this.LimitFlag=t.data})},getuseLimit(){Ve({limit:1e3,current:1}).then(t=>{this.useLimitList=t.data.list,this.total=t.data.page.total,this.available_total=t.data.available_total})},addLimit(){this.total>=this.available_total?this.$message({type:"warning",showClose:!0,dangerouslyUseHTMLString:!0,message:'For more powerful features, see our plan list <<a style="color:#409eff" href="https://www.mdc.ai/moredeal-aigc-plug-pricing/" target="_blank">https://www.mdc.ai/moredeal-aigc-plug-pricing/</a>>',offset:52}):(this.getAccount(),this.title="Add Limits",this.open=!0)},searchLimit(){this.queryParams.current=1,this.getList(),this.getLogDay()},editLimit(t){this.getAccount(),this.title="Edit Limits",this.open=!0,We({id:t.id}).then(t=>{this.form=t.data})},save(){this.$refs.forms.validate()&&(this.form.id?Ke(this.form).then(t=>{this.saveContent(t)}):Ne(this.form).then(t=>{this.saveContent(t)}))},saveContent(t){t.status&&(this.getuseLimit(),this.open=!1,this.form={},this.$message({type:"success",message:t.message,offset:52}))},cancel(){this.$refs.forms.resetValidation(),this.form={},this.open=!1},del(){ze({id:this.id}).then(t=>{t.status&&(this.getuseLimit(),this.$message({type:"success",message:t.message,offset:52})),this.showDialog=!1})},delLimit(t){this.id=t,this.showDialog=!0},switchChange(t){this.switchLoading=!0,He({open_uselimit:this.LimitFlag}).then(t=>{this.LimitFlag&&this.getuseLimit(),this.switchLoading=!1})},changePagination(t){this.queryParams.current=t,this.getList()},saveTime(){1===this.queryParams.start_time.length&&(this.queryParams.start_time=[this.queryParams.start_time[0],this.queryParams.start_time[0]]),this.$refs.createTime.save(this.queryParams.start_time)},handleRangeChange(t){if(2===t.length){const e=t[0],s=t[1];e>s&&(this.queryParams.start_time=[],this.$nextTick(()=>{this.queryParams.start_time=[s,e]}))}},updateOptions(t){let{sortBy:e,sortDesc:s}=t;0!=e.length?(this.queryParams.current=1,this.queryParams.order=e[0],s[0]?this.queryParams.desc="desc":this.queryParams.desc=void 0,this.getList()):(this.queryParams.order=void 0,this.queryParams.desc=void 0,this.getList())},copyContent(t,e){let s="";e?s=t:t.map(t=>{s+=t+"\n"}),navigator.clipboard.writeText(s).then(()=>{this.$message({type:"success",message:"Copy Success",offset:52})})}}},Xe=Ye,Ze=(s("89fe"),Object(Tt["a"])(Xe,Ue,Fe,!1,null,"6764fc87",null)),ts=Ze.exports,es={components:{currentLimiting:ts}},ss=es,as=(s("bff2"),Object(Tt["a"])(ss,Ie,Ae,!1,null,"4ebd22f2",null)),is=as.exports;L["default"].use(W["a"]);const ls=[{path:"/",redirect:"/market",component:ce},{path:"/home",component:ce},{path:"/market",name:"topic",component:ce,redirect:"/market/goods",name:"topic",children:[{path:"goods",component:xe},{path:"goods/:topic",name:"topic",component:xe},{path:"detail",name:"detail",component:qe}]},{path:"/service",name:"service",component:ce},{path:"/aaa",name:"aaa",component:is}],os=new W["a"]({routes:ls}),rs=W["a"].prototype.push;W["a"].prototype.push=function(t,e,s){return e||s?rs.call(this,t,e,s):rs.call(this,t).catch(t=>t)};var ns=os;L["default"].use(o.a).use(n.a).use(p.a).use(u.a).use(h.a).use(f.a).use(v.a).use(b.a).use(k.a),L["default"].prototype.$message=i.a,L["default"].use(w.a),L["default"].use(N.a),L["default"].config.productionTip=!1,L["default"].prototype.$bus=new L["default"],new L["default"]({render:t=>t($["default"]),store:q,vuetify:F,i18n:j,router:ns,scrollBehavior(){return{x:0,y:0}}}).$mount("#moredeal-ai-writer-dashboard")},"5cce":function(t,e,s){"use strict";s("6c0f")},"5dfc":function(t,e,s){},6068:function(t,e,s){"use strict";var a=s("ce78"),i=s("843d"),l=s("e9e6"),o=function(){var t=this,e=t._self._c;return!t.is_show||t.form.is_show?e("div",["input"==t.form.style?e(i["a"],{attrs:{"persistent-placeholder":"","persistent-hint":"",hint:t.form.desc,"validate-on-blur":"",rules:[!t.is_show||!t.right_show||(e=>!!e||t.form.label+t.$t("myselfTemplateList.isRequire"))],placeholder:t.form.default?t.form.default.toString():t.form.default,clearable:"",label:t.form.label,outlined:""},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}}):t._e(),"text"==t.form.style?e(l["a"],{attrs:{"persistent-placeholder":"","persistent-hint":"",hint:t.form.desc,"validate-on-blur":"",rules:[!t.is_show||!t.right_show||(e=>!!e||t.form.label+t.$t("myselfTemplateList.isRequire"))],placeholder:t.form.default?t.form.default.toString():t.form.default,outlined:"",clearable:"",label:t.form.label},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}}):t._e(),"select"==t.form.style?e(a["a"],{attrs:{"persistent-placeholder":"","persistent-hint":"",hint:t.form.desc,"validate-on-blur":"",rules:[!t.is_show||!t.right_show||(e=>!!e||t.form.label+t.$t("myselfTemplateList.isRequire"))],placeholder:t.form.default?t.form.default.toString():t.form.default,items:t.form.options,"item-text":"label","item-value":"value",label:t.form.label,clearable:"",outlined:""},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}}):t._e()],1):t._e()},r=[],n={props:{form:{type:Object},is_show:{type:Boolean,default:!0},right_show:{type:Boolean,default:!0}}},c=n,p=s("e607"),d=Object(p["a"])(c,o,r,!1,null,null,null);e["a"]=d.exports},6208:function(t,e,s){},"655a":function(module,__webpack_exports__,__webpack_require__){"use strict";var _api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("365c"),_mdi_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4d06"),_components_iShowInput_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("6068");__webpack_exports__["a"]={props:{stepList:{type:Array,default:[]},totalData:{type:Object,default:{}},loading:{type:Boolean},lbForm:{type:Boolean}},data(){return{mdiMotionPlay:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["C"],mdiPlus:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["G"],mdiDelete:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["s"],type:void 0,saveLoading:!1,loadings:[],results:[],stepLists:[],templateType:void 0}},components:{iShowInput:_components_iShowInput_vue__WEBPACK_IMPORTED_MODULE_2__["a"]},methods:{handleBack(){this.loadings=[],this.results=[],this.stepList.map((item,index)=>{"button"!=item.stepModule.response.style&&eval("this.$refs.rightForm"+index)[0].resetValidation()})},getProductData(t,e){this.stepList[e].variables.map(e=>{for(let s in t)e.field==s&&(e.value=t[s])})},handleExecute(stepField,index,flag,btnFlag,urlFlag){btnFlag?this.contentRun(stepField,index,flag,urlFlag):(this.$emit("getLBForm"),this.$nextTick(()=>{eval("this.$refs.rightForm"+index)[0].validate()&&this.lbForm&&this.contentRun(stepField,index,flag)}))},contentRun(t,e,s,a){this.$set(this.loadings,e,!0),!this.totalData.id&&(this.totalData.type=this.templateType);let i={tmpId:this.totalData.id,stepField:t,templateModel:this.totalData,scene:"WPAdminSceneModule"};const l=this.stepList[e].stepModule.response.style;"text"==l||"input"==l?Object(_api__WEBPACK_IMPORTED_MODULE_0__["e"])(i,{stream:"text"},t=>{this.$set(this.loadings,e,!1);const s=t.event.target.response;t.event.target.response.includes("&start&")&&!t.event.target.response.includes("&end&")?(this.stepList[e].stepModule.response.value=s.split("&start&")[1],this.$el.querySelector("#textarea"+e).scrollTop=this.$el.querySelector("#textarea"+e).scrollHeight):t.event.target.response.includes("&end&")&&(this.stepList[e].stepModule.response.value=s.split("&start&")[1].split("&end&")[0])}).then(t=>{if(this.$emit("getToken"),t.includes("&error&"))this.$set(this.results,e,"error"),this.stopLoading(e),this.Message("error",t.split("&error&")[1]),this.stepList[e].stepModule.response.value=void 0;else if(t.includes("&start&"))if(this.$set(this.results,e,"success"),JSON.parse(t.split("&end&")[1])){let a=JSON.parse(t.split("&end&")[1]);a.data.status?(this.stepList[e].stepModule.response=a.data.stepResponse,this.$set(this.loadings,e,!1),this.$set(this.results,e,"success"),s&&e<this.stepList.length-1&&"button"!=this.stepList[e+1].stepModule.response.style&&this.handleExecute(this.stepList[e+1].field,e+1,!0),this.Message("success",a.data.message||"success")):(this.Message("error",a.data.message),this.$set(this.results,e,"error"),this.stopLoading(e))}else this.stopLoading(e),this.Message("error","Error");else this.$set(this.results,e,"error"),JSON.parse(t).status||this.Message("error",JSON.parse(t).error),this.stopLoading(e)}):Object(_api__WEBPACK_IMPORTED_MODULE_0__["e"])(i,{stream:void 0}).then(t=>{if(this.$emit("getToken"),t.data.status)if(a)this.$set(this.loadings,e,!1),this.$set(this.results,e,"success"),window.open(t.data.stepResponse.value);else{let a=t.data.stepResponse;if(a.value.constructor!==Array)a.value=a.value.trim();else if("array"==a.type&&"product"!=a.style){let t="";a.value.map(e=>{t+=e.content+"\n"}),a.value=t}this.stepList[e].stepModule.response=a,this.$set(this.loadings,e,!1),this.$set(this.results,e,"success"),s&&e<this.stepList.length-1&&"button"!=this.stepList[e+1].stepModule.response.style&&this.handleExecute(this.stepList[e+1].field,e+1,!0),this.Message("success",t.data.message||"success")}else this.Message("warning",t.data.message),this.$set(this.results,e,"error"),this.stopLoading(e)}).catch(()=>{this.$set(this.results,e,"error"),this.stopLoading(e)})},allExecute(){this.$emit("getLBForm");let rightResult=!0;this.stepList.map((item,index)=>{"button"!=item.stepModule.response.style&&(eval("this.$refs.rightForm"+index)[0].validate()||(rightResult=!1))}),this.$nextTick(()=>{rightResult&&this.lbForm&&(this.stepList.map((t,e)=>{"button"!=t.stepModule.response.style&&this.$set(this.loadings,e,!0)}),this.stepList[0],this.handleExecute(this.stepList[0].field,0,!0))})},stopLoading(t){for(let e=t;e<this.stepList.length;e++)this.$set(this.loadings,e,!1)},Message(t,e){this.$message({type:t,message:e,offset:52})},handleCopy(t){this.$set(this.results,t,"success");let e="";this.stepList.map(t=>{"button"!=t.stepModule.response.style&&(e+="\n\n            "+t.stepModule.response.value)}),this.$copyText(e).then(t=>{this.Message("success","Copy Success")}),this.$set(this.results,t,"success")}}}},"6c0f":function(t,e,s){},"75b3":function(module,__webpack_exports__,__webpack_require__){"use strict";var _api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("365c"),_mdi_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4d06"),_components_iShowInput_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("6068");__webpack_exports__["a"]={props:{stepList:{type:Array,default:[]},totalData:{type:Object,default:{}},foundationList:{type:Array,default:[]},loading:{type:Boolean,default:!1}},data(){return{type:void 0,saveLoading:!1,loadings:[],results:[],copyList:[],templateType:void 0,mdiMotionPlay:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["C"],mdiContentCopy:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["o"]}},components:{iShowInput:_components_iShowInput_vue__WEBPACK_IMPORTED_MODULE_2__["a"]},methods:{handleBack(){this.loadings=[],this.results=[],this.stepList.map((item,index)=>{"button"!=item.stepModule.response.style&&eval("this.$refs.rightForm"+index)[0].resetValidation()})},getProductData(t,e){this.stepList[e].variables.map(e=>{for(let s in t)e.field==s&&(e.value=t[s])})},handleExecute(stepField,index,flag,btnFlag,urlFlag){btnFlag?this.contentRun(stepField,index,flag,urlFlag):this.$nextTick(()=>{eval("this.$refs.rightForm"+index)[0].validate()&&this.$refs.leftFormVar.validate()&&this.contentRun(stepField,index,flag)})},contentRun(t,e,s,a){this.$set(this.loadings,e,!0);let i={stepField:t,templateModel:this.totalData,scene:"WPAdminSceneModule"};const l=this.stepList[e].stepModule.response.style;"text"==l||"input"==l?Object(_api__WEBPACK_IMPORTED_MODULE_0__["e"])(i,{stream:"text"},t=>{this.$set(this.loadings,e,!1);const s=t.event.target.response;t.event.target.response.includes("&start&")&&!t.event.target.response.includes("&end&")?this.stepList[e].stepModule.response.value=s.split("&start&")[1]:t.event.target.response.includes("&end&")&&(this.stepList[e].stepModule.response.value=s.split("&start&")[1].split("&end&")[0])}).then(t=>{if(t.includes("&error&"))this.$set(this.results,e,"error"),this.stopLoading(e),this.Message("error",t.split("&error&")[1]),this.stepList[e].stepModule.response.value=void 0;else if(t.includes("&start&"))if(this.$set(this.results,e,"success"),JSON.parse(t.split("&end&")[1])){let a=JSON.parse(t.split("&end&")[1]);a.data.status?(this.stepList[e].stepModule.response=a.data.stepResponse,this.$set(this.loadings,e,!1),this.$set(this.results,e,"success"),s&&e<this.stepList.length-1&&"button"!=this.stepList[e+1].stepModule.response.style&&this.handleExecute(this.stepList[e+1].field,e+1,!0),this.Message("success",a.data.message||"success")):(this.Message("error",a.data.message),this.$set(this.results,e,"error"),this.stopLoading(e))}else this.stopLoading(e),this.Message("error","Error");else this.$set(this.results,e,"error"),JSON.parse(t).status||this.Message("error",JSON.parse(t).error),this.stopLoading(e)}):Object(_api__WEBPACK_IMPORTED_MODULE_0__["e"])(i,{}).then(t=>{if(t.data.status)if(a)this.$set(this.loadings,e,!1),this.$set(this.results,e,"success"),window.open(t.data.stepResponse.value);else{let a=t.data.stepResponse;if(a.value.constructor!==Array)a.value=a.value.trim();else if("array"==a.type&&"product"!=a.style){let t="";a.value.map(e=>{t+=e.content+"\n"}),a.value=t}this.stepList[e].stepModule.response=a,this.$set(this.loadings,e,!1),this.$set(this.results,e,"success"),s&&e<this.stepList.length-1&&"button"!=this.stepList[e+1].stepModule.response.style&&this.handleExecute(this.stepList[e+1].field,e+1,!0),this.Message("success",t.data.message||"success")}else this.Message("error",t.data.message),this.$set(this.results,e,"error"),this.stopLoading(e)}).catch(()=>{this.$set(this.results,e,"error"),this.stopLoading(e)})},allExecute(){let rightResult=!0;this.stepList.map((item,index)=>{"button"!=item.stepModule.response.style&&(eval("this.$refs.rightForm"+index)[0].validate()||(rightResult=!1))}),this.$nextTick(()=>{rightResult&&this.$refs.leftFormVar.validate()&&(this.stepList.map((t,e)=>{"button"!=t.stepModule.response.style&&this.$set(this.loadings,e,!0)}),this.stepList[0],this.handleExecute(this.stepList[0].field,0,!0))})},stopLoading(t){for(let e=t;e<this.stepList.length;e++)this.$set(this.loadings,e,!1)},Message(t,e){this.$message({type:t,message:e,offset:52})},handleCopy(t){this.$set(this.results,t,"success");let e="";this.stepList.map(t=>{"button"!=t.stepModule.response.style&&(e+="\n  \n            "+t.stepModule.response.value)}),this.$copyText(e).then(t=>{this.Message("success","Copy Success")}),this.$set(this.results,t,"success")},requestCopy(t){this.$copyText(t).then(t=>{this.Message("success","Copy Success")})},showCopy(t){this.$set(this.copyList,t,!0)},hideCopy(t){this.$set(this.copyList,t,!1)}}}},"75d8":function(t,e,s){"use strict";var a=s("5482"),i=s("cf35"),l=s("5557"),o=s("c3a3"),r=s("3a9f"),n=s("fa2f"),c=s("5658"),p=s("5454"),d=s("2379"),u=s("4201"),m=s("e569"),h=s("bff3"),_=s("9367"),f=s("6a4b"),g=s("9044"),v=s("843d"),y=s("655e"),b=s("14d8"),x=function(){var t=this,e=t._self._c;return e(h["a"],{ref:"drawer",staticStyle:{margin:"32px 0 0 160px"},attrs:{color:t.$store.state.background,persistent:"",absolute:"",temporary:"",right:"",width:"70%","hide-overlay":""},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[e("div",{staticClass:"pad20",staticStyle:{"padding-top":"0","margin-bottom":"10px"}},[e(y["a"],{attrs:{color:t.$store.state.background,elevation:"0"}},[e(b["a"],[t._v("Template Flow")]),e(g["a"]),e("el-button",{attrs:{size:"mini",icon:"el-icon-check",type:"primary"},on:{click:t.handleSave}},[t._v(t._s(t.$t("templateModal.save")))]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.open=!1}}},[t._v(t._s(t.$t("templateModal.back"))+" "),e("i",{staticClass:"el-icon-right"})])],1),t._l(t.stepList,(function(s,h){return e(i["a"],{key:h,staticClass:"pad20 padbottom30",style:{position:"relative",marginBottom:(t.totalData.info.type,"60px")},attrs:{color:t.$store.state.card_color,elevation:"5"}},[e(n["a"],[e(f["a"],[e(o["a"],{staticStyle:{padding:"0 12px"},attrs:{cols:3}},[e(v["a"],{attrs:{"persistent-placeholder":"",label:t.$t("viewTemplate.title"),outlined:""},model:{value:s.label,callback:function(e){t.$set(s,"label",e)},expression:"step.label"}})],1),e(o["a"],{staticStyle:{padding:"0 12px"},attrs:{cols:9}},[e(v["a"],{attrs:{"persistent-placeholder":"",label:t.$t("viewTemplate.desc"),outlined:""},model:{value:s.desc,callback:function(e){t.$set(s,"desc",e)},expression:"step.desc"}})],1)],1)],1),"button"!=s.stepModule.response.style?e(l["b"],[t._v(t._s(t.$t("templateModal.Variable")))]):t._e(),t._l(s.stepModule.variables,(function(s,a){return["prompt"!=s.field?e("defaultInput",{key:a+"defa",attrs:{form:s}}):t._e()]})),t._l(s.stepModule.variables,(function(s,a){return["prompt"==s.field?e("iShowInput",{key:a,attrs:{form:s,is_show:!1}}):t._e()]})),e(f["a"],{staticStyle:{"margin-top":"10px"}},t._l(s.variables,(function(t,s){return e(o["a"],{key:s,staticStyle:{padding:"0 10px"},attrs:{cols:3}},[e("defaultInput",{staticClass:"edit_list",attrs:{form:t}})],1)})),1),"button"!=s.stepModule.response.style?e(r["a"],{staticStyle:{margin:"10px 0 0 0"}}):t._e(),t._l(s.stepModule.variables,(function(a,i){return e("div",{key:i+"no",staticStyle:{cursor:"pointer",display:"inline-block"},on:{click:function(e){return t.handleEdit(a,h,i,!1,s)}}},[e("el-button",{staticClass:"el_edit",attrs:{type:"info"}},[e("div",{staticClass:"label"},[t._v(t._s(a.label))]),e("div",{staticClass:"els"},[t._v(t._s(a.style))])])],1)})),t._l(s.variables,(function(a,i){return e("el-button",{key:i+"yes",staticClass:"el_edit",attrs:{type:"info"},on:{click:function(e){return t.handleEdit(a,h,i,!0,s)}}},[e("div",{staticClass:"label"},[t._v(t._s(a.label))]),e("div",{staticClass:"els"},[t._v(t._s(a.style))])])})),e("br"),"button"!=s.stepModule.response.style?e("el-button",{staticStyle:{margin:"10px 0 0 0px"},attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(e){return t.addVariable(s)}}},[t._v(t._s(t.$t("viewTemplate.addVariables")))]):t._e(),"custom"==t.totalData.info.type?e("div",{staticClass:"addStep",on:{mouseleave:function(e){return t.$set(t.stepDelList,h,!1)}}},[e("div",{style:{padding:"0 10px",background:t.$store.state.background,zIndex:1}},[s.stepModule.isCanAddStep?e(m["a"],{attrs:{bottom:"","nudge-left":"220","nudge-bottom":"50"},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:i,attrs:l}=s;return[e(a["a"],t._g(t._b({attrs:{color:"primary",fab:"","x-small":""},on:{mouseenter:function(e){return t.$set(t.stepDelList,h,!0)},click:t.getStepList}},"v-btn",l,!1),i),[e(c["a"],[t._v(t._s(t.mdiPlus))])],1)]}}],null,!0)},[e(i["a"],{attrs:{color:t.$store.state.background,"max-width":"500","min-height":"200","min-width":"500",loading:t.loading}},[e("template",{slot:"progress"},[e(_["a"],{attrs:{color:"primary",height:"5",indeterminate:""}})],1),e(p["a"],t._l(t.stepLists,(function(s){return e(d["a"],{key:s.field,attrs:{link:""},on:{click:function(e){return t.selectStep(s,h)}}},[e(u["a"],[e(u["b"],[t._v(t._s(s.label))]),e("div",{staticStyle:{color:"rgba(255, 255, 255, 0.7)","line-height":"1.2","font-size":"14px"}},[t._v(t._s(s.desc))])],1)],1)})),1)],2)],1):t._e()],1),e("div",{staticStyle:{position:"absolute",left:"calc(50% + 25px)",zIndex:"1","padding-right":"10px"},style:{background:t.$store.state.background}},[!s.stepModule.isCanAddStep||t.stepDelList[h]?e(a["a"],{attrs:{fab:"","x-small":"",color:"red"},on:{click:function(e){return t.stepList.splice(h,1)}}},[e(c["a"],[t._v(t._s(t.mdiDelete))])],1):t._e()],1)]):t._e()],2)})),e("edit",{ref:"edits",on:{deleteForms:t.deleteForm,editSaveTwos:t.editSaveTwo,editSaves:t.editSave}})],2)])},k=[],L=(s("f921"),s("ec0b")),$=s("ce78"),S=s("e9e6"),w=function(){var t=this,e=t._self._c;return e("div",["input"==t.form.style?e(v["a"],{attrs:{"persistent-placeholder":"","persistent-hint":"",hint:t.form.desc,clearable:"",label:t.form.label,outlined:""},model:{value:t.form.default,callback:function(e){t.$set(t.form,"default",e)},expression:"form.default"}}):t._e(),"text"==t.form.style?e(S["a"],{attrs:{"persistent-placeholder":"","persistent-hint":"",hint:t.form.desc,outlined:"",clearable:"",label:t.form.label},model:{value:t.form.default,callback:function(e){t.$set(t.form,"default",e)},expression:"form.default"}}):t._e(),"select"==t.form.style?e($["a"],{attrs:{"persistent-placeholder":"","persistent-hint":"",hint:t.form.desc,items:t.form.options,"item-text":"label","item-value":"value",label:t.form.label,clearable:"",outlined:""},model:{value:t.form.default,callback:function(e){t.$set(t.form,"default",e)},expression:"form.default"}}):t._e()],1)},C=[],M={props:{form:{type:Object}}},T=M,D=s("e607"),P=Object(D["a"])(T,w,C,!1,null,null,null),O=P.exports,E=s("6068"),q=s("365c"),I=s("4d06");let A;A=MOREDEAL_AIGC.level;var R={data(){return{mdiPlus:I["G"],mdiDelete:I["s"],totalData:{},open:!1,loading:!0,stepLists:[],stepDelList:[],stepList:[],noVip:!0,prompt:"Write an article about",level:A}},created(){addEventListener("keydown",t=>{27==t.keyCode&&this.open&&0==this.$refs.edits.opens&&this.$set(this,"open",!1)})},components:{edit:L["a"],iShowInput:E["a"],defaultInput:O},methods:{handleEdit(t,e,s,a,i){this.$refs.edits.opens=!0,this.$refs.edits.flag=a,this.$refs.edits.coordinates={stepIndex:e,index:s},this.$refs.edits.form=JSON.parse(JSON.stringify(t)),this.$refs.edits.$refs.editForm.resetValidation(),this.$refs.edits.varbles=i.label.trim().replace(/ /g,"_").toUpperCase()},addVariable(t){t.variables.push({key:this.$store.state.variablesKey.input,field:"Variable_"+t.variables.length,label:"Variable "+t.variables.length,desc:"",options:[],is_show:!0,style:"input"})},deleteForm(t){this.stepList[t.stepIndex].variables.splice(t.index,1)},editSave(t,e){this.$set(this.stepList[e.stepIndex].variables,e.index,t)},editSaveTwo(t,e){this.$set(this.stepList[e.stepIndex].stepModule.variables,e.index,t)},handleSave(){this.stepList.map(t=>{t.field=t.label.trim().replace(/ /g,"_").toUpperCase()}),this.$emit("handleSaves",this.stepList),this.open=!1},getStepList(){this.loading=!0,Object(q["o"])().then(t=>{this.loading=!1,this.stepLists=t.data})},selectStep(t,e){this.stepList.splice(e+1,0,t)}}},j=R,U=(s("0074"),Object(D["a"])(j,x,k,!1,null,"3c700e12",null));e["a"]=U.exports},"76c4":function(t,e){t.exports={tabs:{myTemplate:"My Template",template_recommend:" Get Started",template_download:"Collection Template",collection:"Template Has Been Collecting",upgrade:"Upgrade",templateMarket:"Template Market",service:"Service",currentLimiting:"Limits",configuration:"Configuration"},myselfTemplateList:{templateName:"Template Name",pleaseName:"Please Enter a Template Name",templateScene:"Template Scene",pleaseScene:"Please Enter Template Scenario",templateCategory:"Category",templateTag:"Tag",createTemplate:"Start Template",type:"Template Type",isRequire:"Is Require",instruction:"Trial Instruction",more:"More"},advanced:{version:"Template Version",key:"Template Key",scene:"Template Scene",tag:"Template Tags",topic:"Template Topics",id:"Template Id"},setting:{pleaseInput:"Please Enter Api_key",save:"Save api_key"},templateModal:{temName:"Template Market",browse:"Browse",baseAi:"Best AI Workflow",all:"All",sort:"Sort By",back:"Back",submit:"Upload Template",copy:"Click To Copy",title:"Template Library",Variable:"Variable",scene:"Scene",configuration:"See The Steps To Configure The",foundation:"GENEROL",model:"ADVANCED",upgrade:"UPGRADE",basics:"Want to learn the basics?",basicsBtn:"Click here",templateName:"Template Name",pleaseName:"Please Enter A Template Name",templateDesc:"Template Desc",pleaseDesc:"Please Enter Template Desc",execute:"Execute",allExecute:"All Execution",create:"Create Article",reconfirm:"Please Confirm Again Whether To Delete",cancel:"Cancel",save:"Save",save1:"Confirm",return:"Return Template",createTime:"Create Time",new:"new",popular:"popular",recommend:"recommend",allStepTips:"Click to Generate the Content for All Steps",stepTips:"Click to Generate the Content of the Current Step",world:"Word",step:"Step",version:"Version",plugLevel:"Plug-in Level",plugVersion:"Plug-in Version"},viewTemplate:{title:"Step Title",desc:"Step Desc",type:"Step Type",delete:"Delete",copy:"Copy",variables:"Variables",addVariables:"Add Variables",editVariables:"Edit Variables",options:"Option",addOption:"Add Option"},tips:{Please:"Please Select",notOpen:"Not Open Yet",edit:"Successful Operation"},edit:{field:"Field",label:"Label",desc:"Desc",type:"Type",isShow:"is_show",value:"Value"},limit:{limitName:"Limit Name",scope:"Scope",type:"Type",limits:"Limits",timeFrame:"Time Frame",limitMessage:"Message when Over the limit",specifyUser:"Specify Users",ignoreUser:"Ignore Users",enableLimits:"Enable Limits",name:"Template Name",user:"User",time:"Time",search:"Search",scene:"Scene",userType:"User Type",tokenUsage:"Token Usage",elapsedTime:"Elapsed Time",success:"Success",prompt:"Prompt",cancel:"cancel",ok:"ok",totalToken:"Total Token Usage",requestCount:"Request Count",userCount:"User Count"},service:{source:"Source",name:"Name",desc:"Description",message:"Message",status:"Service Status",id:"Service ID",type:"Source Type",soon:"Coming Soon"}}},"89fe":function(t,e,s){"use strict";s("d034")},"8e6b":function(t,e,s){"use strict";var a=s("5482"),i=s("cf35"),l=s("c3a3"),o=s("fa2f"),r=s("5658"),n=s("6a4b"),c=s("843d"),p=s("e9e6"),d=s("76b9"),u=function(){var t=this,e=t._self._c;return e(i["a"],{staticClass:"pad10",staticStyle:{height:"100%","overflow-y":"auto"},attrs:{color:t.$store.state.background}},[e(i["a"],{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{padding:"20px 0",margin:"10px 10px 10px 0","overflow-y":"auto"},attrs:{color:t.$store.state.card_color,elevation:"5"}},[t.stepList.length>1?e(a["a"],{staticStyle:{"margin-left":"10px","text-transform":"none","margin-bottom":"10px"},attrs:{color:"primary"},on:{click:t.allExecute}},[e(r["a"],[t._v(t._s(t.mdiMotionPlay))]),t._v(t._s(t.$t("templateModal.allExecute")))],1):t._e(),t._l(t.stepList,(function(s,a){return e(i["a"],{directives:[{name:"loading",rawName:"v-loading",value:t.loadings[a],expression:"loadings[index]"}],key:a,staticClass:"pad10",staticStyle:{"text-transform":"none",padding:"0 10px"},attrs:{color:t.$store.state.card_color,elevation:"0"}},["button"!=s.stepModule.response.style?e("div",{staticClass:"title"},[e("div",[e("div",{staticClass:"stepTitle"},[t._v(" "+t._s(s.label)+" "),e(d["a"],{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){let{on:i,attrs:l}=a;return[e("img",t._g(t._b({staticStyle:{width:"20px",height:"20px","vertical-align":"middle","margin-left":"5px"},style:{filter:t.$vuetify.theme.dark?"brightness(0) invert(1)":"brightness(0) invert(0)"},attrs:{src:s.stepModule.icon}},"img",l,!1),i))]}}],null,!0)},[e("span",[t._v(t._s(s.stepModule.name))])])],1),e("div",{staticClass:"stepDesc"},[t._v(t._s(s.desc))])]),e("div",{staticStyle:{"white-space":"nowrap"}},[e("i",{class:"success"==t.results[a]?"el-icon-success":"error"==t.results[a]?"el-icon-error":"",style:{color:"success"==t.results[a]?"#67c23a":"#f56c6c",fontSize:"20px",verticalAlign:"middle",marginRight:"5px"}}),e("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-video-play",disabled:0!=a&&"success"!=t.results[a-1]&&0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleExecute(s.field,a)}}},[t._v(t._s(s.buttonLabel))])],1)]):t._e(),"button"!=s.stepModule.response.style?e(o["a"],{ref:"rightForm"+a,refInFor:!0},[e(n["a"],{attrs:{"no-gutters":""}},[t._l(s.stepModule.variables,(function(s,a){return[s.is_show?e(l["a"],{key:a+"prompt",staticStyle:{padding:"0 12px 0 0"},attrs:{cols:"prompt"==s.field?12:"text"!=s.style?4:6}},[e("iShowInput",{attrs:{form:s}})],1):t._e()]})),t._l(s.variables,(function(s,a){return[s.is_show?e(l["a"],{key:a+"!prompt",staticStyle:{padding:"0 12px 0 0"},attrs:{cols:"text"!=s.style?4:6}},[e("iShowInput",{attrs:{form:s}})],1):t._e()]}))],2)],1):t._e(),e("div",[s.stepModule.response.isShow&&"input"==s.stepModule.response.style?e(c["a"],{attrs:{clearable:"",outlined:""},model:{value:s.stepModule.response.value,callback:function(e){t.$set(s.stepModule.response,"value",e)},expression:"item.stepModule.response.value"}}):t._e(),s.stepModule.response.isShow&&"text"==s.stepModule.response.style?e(p["a"],{attrs:{id:"textarea"+a,rows:10,outlined:""},model:{value:s.stepModule.response.value,callback:function(e){t.$set(s.stepModule.response,"value",e)},expression:"item.stepModule.response.value"}}):t._e(),s.stepModule.response.isShow&&"base64"==s.stepModule.response.style?e("div",[null==s.stepModule.response.value||0==s.stepModule.response.value.length?e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1):t._e(),s.stepModule.response.value&&0!=s.stepModule.response.value.length?e("div",t._l(s.stepModule.response.value,(function(t,s){return e("el-image",{key:s,staticStyle:{width:"200px",height:"200px","margin-right":"7px"},attrs:{"preview-src-list":["data:image/png;base64,"+t.base64],src:"data:image/png;base64,"+t.base64,fit:"cover"}})})),1):t._e()]):t._e(),s.stepModule.response.isShow&&"img"==s.stepModule.response.style?e("div",[null==s.stepModule.response.value||0==s.stepModule.response.value.length?e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px","margin-right":"7px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("el-image",{staticStyle:{width:"200px",height:"200px"}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1):t._e(),s.stepModule.response.value&&0!=s.stepModule.response.value.length?e("div",t._l(s.stepModule.response.value,(function(t,s){return e("el-image",{key:s,staticStyle:{width:"200px",height:"200px","margin-right":"7px"},attrs:{"preview-src-list":[t.url],src:t.url,fit:"cover"}})})),1):t._e()]):t._e(),s.stepModule.response.isShow&&"product"==s.stepModule.response.style&&"array"==s.stepModule.response.type?e("div",[e("div",{staticClass:"product"},[e(n["a"],{attrs:{dense:""}},t._l(s.stepModule.response.value,(function(s){return e(l["a"],{key:s.code,attrs:{cols:3,md:4,sm:6}},[e(i["a"],{staticClass:"products",attrs:{color:t.$store.state.background},on:{click:function(e){return t.getProductData(s,a)}}},[e("div",{staticClass:"images"},[e("el-image",{staticStyle:{width:"50px",height:"50px","border-radius":"5px"},attrs:{src:s.pic_url,fit:"cover"}})],1),e("div",{staticClass:"productDesc"},[e("div",{staticClass:"productTit"},[t._v(t._s(s.title))]),e("div",{staticClass:"productPrice"},[e("span",{staticStyle:{"font-size":"12px"}},[t._v("$")]),t._v(t._s(s.price)+" ")])])])],1)})),1)],1)]):t._e(),"button"==s.stepModule.response.style&&"text"==s.stepModule.response.type?e("el-button",{staticStyle:{width:"100%",height:"60px","font-size":"20px",display:"block",margin:"0 auto","margin-bottom":"20px"},attrs:{type:"primary",disabled:0!=a&&"success"!=t.results[a-1]&&0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleExecute(s.field,a,!1,!0)}}},[t._v(t._s(s.label))]):t._e(),"button"==s.stepModule.response.style&&"redirect"==s.stepModule.response.type?e("el-button",{staticStyle:{width:"100%",height:"60px",display:"block",margin:"0 auto","margin-bottom":"20px"},attrs:{type:"primary",disabled:0!=a&&"success"!=t.results[a-1]&&0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleExecute(s.field,a,!1,!0,!0)}}},[t._v(t._s(s.label))]):t._e(),"button"==s.stepModule.response.style&&"copy"==s.stepModule.response.type?e("el-button",{staticStyle:{width:"100%",height:"60px","font-size":"20px",display:"block",margin:"0 auto","margin-bottom":"20px"},attrs:{type:"primary",disabled:0!=a&&"success"!=t.results[a-1]&&0!=a&&!t.stepList[a-1].stepModule.response.value},on:{click:function(e){return t.handleCopy(a)}}},[t._v(t._s(s.label))]):t._e()],1)],1)}))],2)],1)},m=[],h=s("655a"),_=h["a"],f=(s("9156"),s("e607")),g=Object(f["a"])(_,u,m,!1,null,"dbaf9974",null);e["a"]=g.exports},9156:function(t,e,s){"use strict";s("fd01")},"93b5":function(t,e,s){},9618:function(t,e){},"9a9c":function(t,e){t.exports={tabs:{myTemplate:"我的模板",template_recommend:"推荐模板",template_download:"收藏模板",collection:"模板已被收藏",upgrade:"升级",templateMarket:"模板市场",service:"服务",service:"限流",configuration:"配置"},myselfTemplateList:{templateName:"模板名称",pleaseName:"请输入模板名称",templateScene:"模板场景",pleaseScene:"请输入模板场景",templateCategory:"类别",templateTag:"标签",createTemplate:"新建模板",type:"模板类型",isRequire:"是必填",instruction:"使用说明",more:"更多"},advanced:{version:"模板版本号",key:"模板key",scene:"模板场景",tag:"模板标签",topic:"模板主题",id:"模板Id"},setting:{pleaseInput:"请输入 api_key",save:"保存 api_key"},templateModal:{temName:"模板市场",browse:"浏览",baseAi:"最佳AI工作流程",all:"全部",sort:"排序",back:"返回",submit:"上传模板",copy:"点击复制",title:"模板使用",Variable:"变量",scene:"场景",configuration:"查看步骤配置",foundation:"基础",model:"高级",upgrade:"升级",basics:"想要学习基础知识吗?",basicsBtn:"点击这里",templateName:"模板名称",pleaseName:"请输入模板名称",templateDesc:"模板描述",pleaseDesc:"请输入模板描述",execute:"执行",allExecute:"全部执行",create:"创建文章",reconfirm:"请再次确认是否要删除",cancel:"取 消",save:"保 存",save1:"确 认",return:"返回模板",createTime:"创建时间",new:"最新的",popular:"受欢迎的",recommend:"推荐的",allStepTips:"点击生成全部步骤的内容",stepTips:"点击生成当前步骤的内容",world:"词",step:"步骤",version:"版本",plugLevel:"插件等级",plugVersion:"插件版本"},viewTemplate:{title:"步骤标题",desc:"步骤描述",type:"步骤类型",delete:"删除",copy:"拷贝",variables:"变量",addVariables:"增加变量",editVariables:"编辑变量",options:"选项",addOption:"增加选项"},tips:{Please:"请选择",notOpen:"暂未开放",edit:"操作成功"},edit:{field:"字段",label:"标题",desc:"描述",type:"类型",isShow:"是否显示",value:"值"},limit:{limitName:"限制名称",scope:"范围",type:"类型",limits:"限制数量",timeFrame:"时限",limitMessage:"超过限制时发送的消息",specifyUser:"指定用户",ignoreUser:"忽视用户",enableLimits:"使用限制",name:"模板名称",user:"用户",time:"时间",search:"搜索",scene:"场景",userType:"用户类型",tokenUsage:"令牌使用",elapsedTime:"运行时间",success:"是否成功",prompt:"提示",cancel:"返 回",ok:"确 认",totalToken:"令牌总使用量",requestCount:"请求数",userCount:"用户数量"},service:{source:"来源",name:"名称",desc:"描述",message:"消息",status:"服务状态",id:"服务ID",type:"来源类型",soon:"即将推出"}}},"9b5f":function(t,e,s){"use strict";s("1ae0")},aa01:function(t,e,s){},ad07:function(t,e,s){},b47a:function(t,e,s){"use strict";s("0321")},b775:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));s("cdba"),s("1ff0");var a=s("356b"),i=s.n(a),l=s("6b61");let o,r;o=MOREDEAL_AIGC.wpRestUrl,r=MOREDEAL_AIGC.wpRestNonce,l["a"].defaults.headers["X-WP-Nonce"]=r;const n=l["a"].create({headers:{"Content-Type":"application/json"},baseURL:o,timeout:3e5,withCredentials:!0});n.interceptors.request.use(t=>t,t=>Promise.reject(t)),n.interceptors.response.use(t=>t.data&&"string"==typeof t.data||t.data&&t.data.status?t.data:t.data&&!t.data.status?(i.a.error({type:"error",message:t.data.error||"The system fails to contact the administrator",offset:52}),t.data):void 0,t=>(t.message.includes("timeout")?i.a.error({center:!0,message:"Request Timeout",offset:52}):i.a.error({center:!0,message:"System Error",offset:52}),Promise.reject(t)))},bff2:function(t,e,s){"use strict";s("ad07")},c463:function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("router-view")},i=[]},d034:function(t,e,s){},e094:function(t,e,s){},e9d4:function(t,e,s){"use strict";s("6208")},ec03:function(t,e,s){},ec0b:function(t,e,s){"use strict";var a=s("5482"),i=s("fa2f"),l=s("5658"),o=s("5454"),r=s("2379"),n=s("4201"),c=s("e569"),p=s("bff3"),d=s("ce78"),u=s("17e0d"),m=s("843d"),h=s("e9e6"),_=s("76b9"),f=function(){var t=this,e=t._self._c;return e(p["a"],{attrs:{color:t.$store.state.background,"hide-overlay":"",app:"",temporary:"",right:"",width:"500"},model:{value:t.opens,callback:function(e){t.opens=e},expression:"opens"}},[e("div",{staticClass:"mainEdit"},[e("div",{staticClass:"editVariable"},[e("div",{staticClass:"title"},[e("div",{staticClass:"titles"},[t._v(t._s(t.$t("viewTemplate.editVariables")))]),e("div",{staticClass:"subtitles"},[t._v("Add this variable to the prompt like this:")]),e(_["a"],{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:a}=s;return[e("div",t._g({staticClass:"subtitles",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.copys(t.varbles,t.form.field)}}},a),[t._v("{STEP."+t._s(t.varbles)+"."),t.form.field?e("span",[t._v(t._s(t.form.field.toUpperCase()))]):t._e(),t._v("}")])]}}])},[e("span",[t._v(t._s(t.$t("templateModal.copy")))])])],1),e("div",[t.flag?e(c["a"],{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(s){let{on:i,attrs:o}=s;return[e(a["a"],t._g(t._b({staticStyle:{margin:"0 5px"},attrs:{fab:"",small:"",text:""}},"v-btn",o,!1),i),[e(l["a"],[t._v(t._s(t.mdiDotsVertical))])],1)]}}],null,!1,4025423713)},[e(o["a"],{attrs:{dense:""}},[e(r["a"],{attrs:{link:""},on:{click:t.deleteForm}},[e(l["a"],{attrs:{color:"error"}},[t._v(t._s(t.mdiDelete))]),e(n["b"],[t._v(t._s(t.$t("viewTemplate.delete")))])],1)],1)],1):t._e(),e(a["a"],{staticStyle:{"margin-right":"10px"},attrs:{color:"primary"},on:{click:t.goBack}},[t._v(" "+t._s(t.$t("templateModal.save")))])],1)]),e(i["a"],{ref:"editForm"},[e(m["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("edit.field")+t.$t("myselfTemplateList.isRequire")],disabled:!t.flag,clearable:"",label:t.$t("edit.field"),outlined:""},nativeOn:{keydown:function(e){return t.keydown(e)}},model:{value:t.form.field,callback:function(e){t.$set(t.form,"field",e)},expression:"form.field"}}),e(m["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("edit.label")+t.$t("myselfTemplateList.isRequire")],disabled:!t.flag,clearable:"",label:t.$t("edit.label"),outlined:""},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}}),e(h["a"],{attrs:{"persistent-placeholder":"",disabled:!t.flag,clearable:"",label:t.$t("edit.desc"),outlined:""},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),e(d["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("edit.type")+t.$t("myselfTemplateList.isRequire")],disabled:!t.flag,items:t.option,"item-text":"label","item-value":"value",label:t.$t("edit.type"),outlined:""},on:{change:t.onChange},model:{value:t.form.style,callback:function(e){t.$set(t.form,"style",e)},expression:"form.style"}}),e(u["a"],{attrs:{label:t.$t("edit.isShow")},model:{value:t.form.is_show,callback:function(e){t.$set(t.form,"is_show",e)},expression:"form.is_show"}}),"select"==t.form.style?e("div",[t._l(t.form.options,(function(s,a){return e("div",{key:a,staticClass:"el_value"},[e(m["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("edit.label")+t.$t("myselfTemplateList.isRequire")],clearable:"",label:t.$t("edit.label"),outlined:""},model:{value:s.label,callback:function(e){t.$set(s,"label",e)},expression:"item.label"}}),e("div",{staticStyle:{margin:"0 10px"}},[t._v("-")]),e(m["a"],{attrs:{"persistent-placeholder":"","validate-on-blur":"",rules:[e=>!!e||t.$t("edit.value")+t.$t("myselfTemplateList.isRequire")],clearable:"",label:t.$t("edit.value"),outlined:""},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"item.value"}}),e("div",{staticClass:"el-icon-delete",on:{click:function(e){return t.delSele(a)}}})],1)})),e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v(t._s(t.$t("viewTemplate.addOption")))])],2):t._e()],1)],1)])},g=[],v=(s("f921"),s("4d06")),y={data(){return{opens:!1,flag:!0,coordinates:{},varbles:"",form:{},option:[{label:"input",value:"input"},{label:"textarea",value:"text"},{label:"select",value:"select",options:[]}],mdiDotsVertical:v["t"],mdiDelete:v["s"]}},created(){addEventListener("keydown",t=>{27==t.keyCode&&this.opens&&this.$set(this,"opens",!1)})},methods:{goBack(){this.$refs.editForm.validate()&&(this.flag?this.$emit("editSaves",this.form,this.coordinates):this.$emit("editSaveTwos",this.form,this.coordinates),this.$set(this,"opens",!1))},deleteForm(){this.$emit("deleteForms",this.coordinates),this.opens=!1},onChange(t){"input"==t?this.form.key=this.$store.state.variablesKey.input:"text"==t?this.form.key=this.$store.state.variablesKey.text:"select"==t&&(this.form.key=this.$store.state.variablesKey.select)},handleAdd(){this.form.options.push({label:"label",value:"value"})},delSele(t){this.form.options.splice(t,1)},copys(t,e){let s="{STEP."+t+"."+e.toUpperCase()+"}";this.$copyText(s).then(t=>{this.$message({type:"success",message:"Copy Success",offset:52})})},keydown(t){32==t.keyCode&&(t.returnValue=!1)}}},b=y,x=(s("2482"),s("e607")),k=Object(x["a"])(b,f,g,!1,null,"31927745",null);e["a"]=k.exports},f159:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f921"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),_mdi_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4d06"),_components_stepConfiguration_index_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("75d8"),vue_mark_display__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a797"),_variable_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("1fb6"),_stepExecute_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("8e6b"),_api__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("365c"),_components_iShowInput_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("6068");let level;level=MOREDEAL_AIGC.level,__webpack_exports__["a"]={data(){return{sceneList:[],pptValue:void 0,open:!1,openPPT:!1,type:void 0,dialog:!1,lbForm:!0,foundcative:0,loading:!1,saveLoading:!1,loadings:[],results:[],templateType:void 0,foundationList:[],tokenList:{},stepList:[],upload:!1,uploadTemplate:{},exampleLoading:!1,topicList:[],languageList:[{label:"English",value:"en"},{label:"Chinese",value:"zh"}],totalData:{},level:level,mdiArrowLeft:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["g"],mdiDotsVertical:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["t"],mdiDelete:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["s"],mdiClipboardFlow:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["l"],mdiContentCopy:_mdi_js__WEBPACK_IMPORTED_MODULE_1__["o"]}},created(){addEventListener("keydown",t=>{27==t.keyCode&&0==this.upload&&this.open&&this.$refs.configurations&&0==this.openPPT&&0==this.$refs.configurations.open&&this.$set(this,"open",!1)})},components:{stepConfiguration:_components_stepConfiguration_index_vue__WEBPACK_IMPORTED_MODULE_2__["a"],MarkDisplay:vue_mark_display__WEBPACK_IMPORTED_MODULE_3__["a"],iShowInput:_components_iShowInput_vue__WEBPACK_IMPORTED_MODULE_7__["a"],variable:_variable_vue__WEBPACK_IMPORTED_MODULE_4__["a"],executeStep:_stepExecute_vue__WEBPACK_IMPORTED_MODULE_5__["a"]},methods:{getStepDataList(t){this.loading=!0,Object(_api__WEBPACK_IMPORTED_MODULE_6__["i"])({tmpId:t,tmpCode:this.templateType,logotype:this.logotype}).then(t=>{t.status?(this.totalData=t.data,this.foundationList=this.totalData.info.variables,this.stepList=this.totalData.info.steps):(this.foundationList=[],this.stepList=[]),this.loading=!1})},tokenUsageList(){Object(_api__WEBPACK_IMPORTED_MODULE_6__["k"])().then(t=>{t.status&&(this.tokenList=t.data)})},disableOption(t){return"WPAdminSceneModule"==t.key||"WPShortCodeSceneModule"==t.key||"WPTemplateMarketSceneModule"==t.key||"WPAdminTemplateMarketSceneModule"==t.key},getSceneList(){Object(_api__WEBPACK_IMPORTED_MODULE_6__["g"])().then(t=>{this.sceneList=t.data})},getTopic(){Object(_api__WEBPACK_IMPORTED_MODULE_6__["s"])().then(t=>{this.topicList=t.data.topics})},setVariable(t){this.foundationList=t,this.totalData.info.variables=t,this.foundcative="foundtion"},tabClick(t){t.label==this.$t("templateModal.Variable")&&(this.$refs.variables.variablesList=JSON.parse(JSON.stringify(this.totalData.info.variables)))},setConfigurations(t){this.stepList=t,this.totalData.info.steps=t},handleDel(){"dowloadTemplate"==this.type?Object(_api__WEBPACK_IMPORTED_MODULE_6__["d"])({templateId:this.totalData.template_id}).then(t=>{t.status&&(this.$message({type:"success",message:"删除成功",offset:52}),this.$parent.getTemplateList(),this.open=!1)}):Object(_api__WEBPACK_IMPORTED_MODULE_6__["c"])({tmpId:this.totalData.id}).then(t=>{t.status&&(this.$message({type:"success",message:"删除成功",offset:52}),this.$parent.getTemplateList(),this.open=!1)})},copyTemplate(){Object(_api__WEBPACK_IMPORTED_MODULE_6__["a"])(this.totalData).then(t=>{t.status&&(this.$parent.getTemplateList(),this.$message({type:"success",message:t.message,offset:52}))})},configuration(){"free"==this.level&&"dowloadTemplate"==this.type?this.$message({type:"warning",showClose:!0,dangerouslyUseHTMLString:!0,message:'For more powerful features, see our plan list <<a style="color:#409eff" href="https://www.mdc.ai/moredeal-aigc-plug-pricing/" target="_blank">https://www.mdc.ai/moredeal-aigc-plug-pricing/</a>>',offset:52}):(this.$refs.configurations.open=!0,this.$refs.configurations.totalData=this.totalData,this.$refs.configurations.stepList=JSON.parse(JSON.stringify(this.stepList)))},getLBForms(){this.lbForm=this.$refs.leftFormVar.validate()},handleUrl(t){window.open(t.stepModule.sourceUrl)},handleBack(){this.$set(this,"open",!1),this.type=void 0,this.$refs.leftForm.resetValidation(),this.$refs.leftFormVar.resetValidation(),this.$refs.executeSteps.handleBack()},handleSave(){this.saveLoading=!0,this.foundcative=0;let leftResult=this.$refs.leftForm.validate(),leftFormVar=this.$refs.leftFormVar.validate();this.stepList.map((item,index)=>{"button"!=item.stepModule.response.style&&eval("this.$refs.executeSteps.$refs.rightForm"+index)[0].resetValidation()}),leftResult&&leftFormVar?(!this.totalData.scenes.includes("WPAdminSceneModule")&&this.totalData.scenes.push("WPAdminSceneModule"),!this.totalData.scenes.includes("WPShortCodeSceneModule")&&this.totalData.scenes.push("WPShortCodeSceneModule"),!this.totalData.scenes.includes("WPTemplateMarketSceneModule")&&this.totalData.scenes.push("WPTemplateMarketSceneModule"),!this.totalData.scenes.includes("WPAdminTemplateMarketSceneModule")&&this.totalData.scenes.push("WPAdminTemplateMarketSceneModule"),this.totalData.id||0===this.totalData.id?Object(_api__WEBPACK_IMPORTED_MODULE_6__["m"])(this.totalData).then(t=>{this.saveLoading=!1,t.status&&(this.open=!1,this.$parent.getTemplateList(),this.$message({type:"success",message:this.$t("tips.edit"),offset:52}))}):Object(_api__WEBPACK_IMPORTED_MODULE_6__["b"])(this.totalData).then(t=>{this.saveLoading=!1,t.status&&(this.open=!1,this.$parent.getTemplateList(),this.$message({type:"success",message:this.$t("tips.edit"),offset:52}))})):this.saveLoading=!1},contact(){window.open("https://www.mdc.ai/moredeal-aigc-plug-pricing/")},submitTem(){this.uploadTemplate={language:"en"},Object(_api__WEBPACK_IMPORTED_MODULE_6__["l"])().then(t=>{this.$set(this.uploadTemplate,"creator",t.data.user_name)}),this.upload=!0},getExample(){this.exampleLoading=!0,Object(_api__WEBPACK_IMPORTED_MODULE_6__["f"])({id:this.totalData.id}).then(t=>{this.exampleLoading=!1,t.status&&(this.uploadTemplate.promptDetails=t.data)})},topicCancel(){this.$refs.uploadTemplates.resetValidation(),this.upload=!1},topicSave(){this.$refs.uploadTemplates.validate()&&Object(_api__WEBPACK_IMPORTED_MODULE_6__["p"])({id:this.totalData.id,...this.uploadTemplate}).then(t=>{t.status&&(this.upload=!1,this.$parent.getTemplateList(),this.$message({type:"success",message:"upload success",offset:52}))})},copyShortCord(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),document.body.removeChild(e),this.$message({type:"success",message:"Copy Success",offset:52})}}}},f519:function(t,e,s){},fd01:function(t,e,s){}});